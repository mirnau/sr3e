@layer sr3e.prep {
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    all: unset;
    text-transform: uppercase;
  }
  body,
  p {
    font-family: unset;
    font-size: 1rem;
  }
  footer {
    font-family: unset;
    font-size: 0.8rem;
  }
  input[type="checkbox"] {
    all: unset;
    box-sizing: border-box;
    cursor: pointer;
  }
}
@layer sr3e {
  /*
@import "./styling/skinning/sr3e-select.less";
@import "./styling/skinning/sr3e-common.less";
@import "./styling/skinning/sr3e-form.less";
@import "./styling/skinning/sr3e-table.less";
@import "./styling/skinning/sr3e-playerconfig.less";
@import "./styling/skinning/sr3e-pause-container.less";

//Sheet specific styles
@import "./sheets/sheet-metatype.less";
*/
  /* globals.less measurements are in rem*/
  :root {
    --component-width: 17rem;
    --component-grid-gap: 0.25rem;
    --background-color: linear-gradient(35deg, #242424, #282828 30%, #2e2e2e 60%, #282828 85%, #242424);
    --background-with-image: radial-gradient(ellipse at center, rgba(0, 0, 0, 0.4) 0%, rgba(0, 0, 0, 0) 90%), linear-gradient(to right, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.4) 30%, rgba(0, 0, 0, 0.4) 70%, rgba(0, 0, 0, 0) 100%), url("../../../textures/metal.jpg"), linear-gradient(to right, #444, #222);
    --highlight-color-primary: #11e6bf;
    --highlight-color-secondary: #16a48d;
    --highlight-color-tertiary: #ff0000;
    --accent-color-primary: #d91587;
    --accent-color-secondary: #ff4f4f;
  }
  * {
    --color-scrollbar: #ff009572;
  }
  @font-face {
    font-family: 'VT323';
    src: url('../../../fonts/VT323/VT323-Regular.ttf') format('truetype');
    font-weight: normal;
    font-style: normal;
    font-display: swap;
  }
  @font-face {
    font-family: 'Neonderthaw';
    src: url('../../../fonts/Neonderthaw/Neonderthaw-Regular.ttf') format('truetype');
    font-weight: bold;
    font-style: normal;
    font-display: swap;
  }
  :root {
    font-family: 'VT323', monospace;
    --h1-color: var(--highlight-color-primary);
    --h1-bloom: 0 0 1px #004659, 0 0 10px #4affb4, 0 0 20px #0064a2;
    --h3-color: #d0b72b;
    --h3-bloom: 0 0 1px #7d7703, 0 0 10px #ffd54a, 0 0 20px #a27400;
    --h4-color: var(--highlight-color-primary);
    --h5-color: violet;
  }
  .system-sr3e form.p.hint,
  .system-sr3e p.hint {
    color: #ff2090;
  }
  .system-sr3e div {
    color: var(--h1-color);
  }
  .system-sr3e h1 {
    font-family: 'VT323', monospace;
    margin: 0.33rem 0;
    line-height: 1rem;
    font-size: 0.9rem;
    color: var(--h1-color);
    text-shadow: var(--h1-bloom);
    margin-bottom: 0.7rem;
    font-size: 1.2rem;
  }
  .system-sr3e h1.uppercase {
    text-transform: uppercase;
  }
  .system-sr3e h1.no-margin {
    padding: 0rem;
    margin: 0rem;
  }
  .system-sr3e summary,
  .system-sr3e h2 {
    font-family: 'VT323', monospace;
    margin: 0.33rem 0;
    line-height: 1rem;
    color: var(--h1-color);
    font-size: 0.9rem;
    color: var(--h2-color);
    font-size: 1.1rem;
  }
  .system-sr3e summary.uppercase,
  .system-sr3e h2.uppercase {
    text-transform: uppercase;
  }
  .system-sr3e summary.no-margin,
  .system-sr3e h2.no-margin {
    padding: 0rem;
    margin: 0rem;
  }
  .system-sr3e h3 {
    font-family: 'VT323', monospace;
    margin: 0.33rem 0;
    line-height: 1rem;
    color: var(--h1-color);
    font-size: 0.9rem;
    color: var(--h3-color);
    text-shadow: var(--h3-bloom);
    font-size: 1rem;
  }
  .system-sr3e h3.uppercase {
    text-transform: uppercase;
  }
  .system-sr3e h3.no-margin {
    padding: 0rem;
    margin: 0rem;
  }
  .system-sr3e label,
  .system-sr3e span,
  .system-sr3e h4 {
    font-family: 'VT323', monospace;
    margin: 0.33rem 0;
    line-height: 1rem;
    color: var(--h1-color);
    color: var(--h4-color);
    font-size: 0.9rem;
  }
  .system-sr3e label.uppercase,
  .system-sr3e span.uppercase,
  .system-sr3e h4.uppercase {
    text-transform: uppercase;
  }
  .system-sr3e label.no-margin,
  .system-sr3e span.no-margin,
  .system-sr3e h4.no-margin {
    padding: 0rem;
    margin: 0rem;
  }
  .system-sr3e h5 {
    font-family: 'VT323', monospace;
    margin: 0.33rem 0;
    line-height: 1rem;
    color: var(--h1-color);
    font-size: 0.9rem;
    font-size: 1.1rem;
    color: var(--h5-color);
  }
  .system-sr3e h5.uppercase {
    text-transform: uppercase;
  }
  .system-sr3e h5.no-margin {
    padding: 0rem;
    margin: 0rem;
  }
  .system-sr3e h6 {
    font-family: 'VT323', monospace;
    margin: 0.33rem 0;
    line-height: 1rem;
    color: var(--h1-color);
    font-size: 0.9rem;
    color: var(--h6-color);
  }
  .system-sr3e h6.uppercase {
    text-transform: uppercase;
  }
  .system-sr3e h6.no-margin {
    padding: 0rem;
    margin: 0rem;
  }
  .system-sr3e span {
    font-family: 'VT323', monospace;
    margin: 0.33rem 0;
    line-height: 1rem;
    color: var(--h1-color);
    font-size: 0.9rem;
    color: var(--h4-color);
    border: none;
    text-shadow: var(--h3-bloom);
    font-size: 1rem;
  }
  .system-sr3e span.no-margin {
    margin: 0;
  }
  .system-sr3e a,
  .system-sr3e p,
  .system-sr3e span,
  .system-sr3e select,
  .system-sr3e input {
    font-family: 'VT323', monospace;
    margin: 0.33rem 0;
    line-height: 1rem;
    color: var(--h1-color);
    font-size: 0.9rem;
  }
  .system-sr3e a::placeholder,
  .system-sr3e p::placeholder,
  .system-sr3e span::placeholder,
  .system-sr3e select::placeholder,
  .system-sr3e input::placeholder {
    color: var(--highlight-color-primary);
  }
  .system-sr3e button {
    font-family: 'VT323', monospace;
    margin: 0.33rem 0;
    line-height: 1rem;
    color: var(--h1-color);
    font-size: 0.9rem;
    /* Restore FA icon font for any button that is or becomes an icon */
    /* Also fix nested icons and pseudo-elements in other buttons */
  }
  .system-sr3e button.fa,
  .system-sr3e button.fas,
  .system-sr3e button.far,
  .system-sr3e button.fal,
  .system-sr3e button.fad,
  .system-sr3e button.fab {
    font: var(--fa-font-solid) !important;
    -webkit-font-smoothing: antialiased;
  }
  .system-sr3e button i,
  .system-sr3e button i::before,
  .system-sr3e button i::after,
  .system-sr3e button::before,
  .system-sr3e button::after {
    font: var(--fa-font-solid) !important;
    -webkit-font-smoothing: antialiased;
  }
  .sr3e.sheet.character {
    min-width: calc(var(--component-width) + var(--component-grid-gap) * 4);
  }
  .sr3e.sheet.character .sheet-masonry-grid {
    overflow-y: auto;
    overflow-x: hidden;
    z-index: 1;
    margin: 0 auto;
    flex: 1 1 auto;
    width: 100%;
    height: 100%;
    background: transparent;
  }
  .sr3e.sheet.character .sheet-masonry-grid .sheet-gutter-sizer {
    width: var(--component-grid-gap);
  }
  .sr3e.sheet.character .sheet-masonry-grid .sheet-grid-sizer {
    min-width: var(--component-width);
  }
  .actor-footer {
    position: absolute;
    box-sizing: border-box;
    box-shadow: inset 0 0 30px #ff2090;
    z-index: 1;
    left: 0rem;
    width: 100%;
    bottom: -2.3rem;
    height: 2.3rem;
    backdrop-filter: blur(8px);
    clip-path: polygon(0rem 0px, calc(100% - 0rem) 0px, 100% 0rem, 100% calc(100% - 0.5rem), calc(100% - 0.5rem) 100%, 0.5rem 100%, 0px calc(100% - 0.5rem), 0px 0rem);
  }
  .sr3e-waterfall > * {
    display: inline-block;
    break-inside: avoid;
    width: 100%;
    vertical-align: top;
  }
  /* base grid */
  .sr3e-waterfall {
    column-gap: var(--component-grid-gap);
  }
  .sr3e-waterfall--single {
    column-count: 1;
    column-width: auto;
    width: var(--component-width);
    column-gap: 0;
  }
  .sr3e-waterfall--double {
    column-count: 2;
    column-width: var(--component-width);
    column-gap: var(--component-grid-gap);
    width: max-content;
    max-width: calc(var(--component-width) * 2 + var(--component-grid-gap));
  }
  .item-sheet-component {
    display: inline-block;
    break-inside: avoid;
    margin-bottom: 0.5rem;
    width: 100%;
  }
  .item-sheet-component .sr3e-inner-background-container .fake-shadow {
    position: absolute;
    top: 1.5rem;
    left: 1.5rem;
    background-color: #ff2090;
    width: calc(100% - 1.5rem);
    height: calc(100% - 1.5rem);
    z-index: -2;
    filter: blur(20px);
    clip-path: polygon(0.5rem 0px, calc(100% - 0.5rem) 0px, 100% 0.5rem, 100% calc(100% - 1.4142rem), calc(100% - 1.4142rem) 100%, 0.5rem 100%, 0px calc(100% - 0.5rem), 0px 0.5rem);
  }
  .item-sheet-component .sr3e-inner-background-container .sr3e-inner-background {
    display: flex;
    flex-direction: column;
    background-color: #ff2090;
  }
  .item-sheet-component .sr3e-inner-background-container .sr3e-inner-background .stat-card {
    padding: 0.25rem;
    text-align: center;
    background-color: repeating-linear-gradient(0deg, rgba(81, 106, 134, 0.6) 1px, rgba(57, 77, 100, 0.6) 5px, rgba(31, 44, 66, 0.6) 2px);
  }
  .item-sheet-component .sr3e-inner-background-container .sr3e-inner-background .stat-card .select-container {
    width: 100%;
    display: block;
    padding: 0.25rem;
  }
  .item-sheet-component .sr3e-inner-background-container .sr3e-inner-background .stat-card .select-container select {
    clip-path: polygon(0.25rem 0px, calc(100% - 0.25rem) 0px, 100% 0.25rem, 100% calc(100% - 0.75rem), calc(100% - 0.75rem) 100%, 0.25rem 100%, 0px calc(100% - 0.25rem), 0px 0.25rem);
  }
  .item-sheet-component .sr3e-inner-background-container .sr3e-inner-background .stat-card input[type="text"],
  .item-sheet-component .sr3e-inner-background-container .sr3e-inner-background .stat-card input[type="number"] {
    text-indent: none;
    margin-bottom: 0;
    font-size: 1.5rem;
    clip-path: polygon(0.25rem 0px, calc(100% - 0.25rem) 0px, 100% 0.25rem, 100% calc(100% - 0.75rem), calc(100% - 0.75rem) 100%, 0.25rem 100%, 0px calc(100% - 0.25rem), 0px 0.25rem);
  }
  .item-sheet-component .sr3e-inner-background-container .sr3e-inner-background .stat-card input[type="checkbox"] {
    font-size: 1.5rem;
    text-indent: none;
    margin-bottom: 0;
    clip-path: polygon(0.25rem 0px, calc(100% - 0.25rem) 0px, 100% 0.25rem, 100% calc(100% - 0.25rem), calc(100% - 0.25rem) 100%, 0.25rem 100%, 0px calc(100% - 0.25rem), 0px 0.25rem);
  }
  .item-sheet-component .sr3e-inner-background-container .sr3e-inner-background .stat-card .title-container {
    width: 100%;
    display: flex;
    justify-content: center;
    margin-top: 0.25rem;
  }
  .item-sheet-component .sr3e-inner-background-container .sr3e-inner-background .stat-card .title-container h4 {
    width: 80%;
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
    margin: 0;
    padding: 0;
  }
  section.journal-entry-content.flexcol {
    border-radius: 0;
    clip-path: polygon(0.5rem 0px, calc(100% - 0.5rem) 0px, 100% 0.5rem, 100% calc(100% - 0.75rem), calc(100% - 0.75rem) 100%, 0.5rem 100%, 0px calc(100% - 0.5rem), 0px 0.5rem) !important;
  }
  .journal-entry-pages {
    margin: 0;
    padding: 0;
    clip-path: polygon(0.5rem 0px, calc(100% - 0.5rem) 0px, 100% 0.5rem, 100% calc(100% - 0.75rem), calc(100% - 0.75rem) 100%, 0.5rem 100%, 0px calc(100% - 0.5rem), 0px 0.5rem) !important;
  }
  .journal-header {
    background: transparent;
    margin-left: 0.5rem;
    margin-right: 0.5rem;
  }
  .journal-header input[type="text"] {
    font-size: 2rem;
  }
  form.journal-sheet.journal-entry {
    display: flex;
    flex-direction: column;
    height: 100%;
  }
  form.journal-sheet.journal-entry .sheet-component,
  form.journal-sheet.journal-entry .sr3e-inner-background-container,
  form.journal-sheet.journal-entry .sr3e-inner-background {
    display: flex;
    flex-direction: column;
    flex: 1 1 auto;
    min-height: 0;
  }
  form.journal-sheet.journal-entry .window-content {
    flex: 1 1 auto;
    display: flex;
    flex-direction: row;
    overflow: hidden;
    min-height: 0;
  }
  form.journal-sheet.journal-entry .window-content > * {
    flex-shrink: 1;
    box-sizing: border-box;
    min-height: 0;
  }
  form.journal-sheet.journal-entry .form-footer {
    flex-shrink: 0;
  }
  button.icon.fa-pen-to-square[data-action="editPage"] {
    z-index: 1000;
    position: relative;
  }
  form.journal-entry-page.text {
    display: flex;
    flex-direction: column;
    height: 100%;
  }
  form.journal-entry-page.text .sheet-component,
  form.journal-entry-page.text .sr3e-inner-background-container,
  form.journal-entry-page.text .sr3e-inner-background {
    display: flex;
    flex-direction: column;
    flex: 1 1 auto;
    min-height: 0;
  }
  form.journal-entry-page.text section.window-content {
    display: flex;
    flex-direction: column;
    flex: 1 1 auto;
    min-height: 0;
    max-height: 100%;
    overflow: hidden;
  }
  form.journal-entry-page.text section.window-content prose-mirror.editor {
    flex: 1 1 auto;
    min-height: 0;
    display: flex;
    flex-direction: column;
  }
  form.journal-entry-page.text section.window-content prose-mirror.editor .editor-content {
    flex: 1 1 auto;
    min-height: 0;
    overflow: auto;
  }
  form.journal-entry-page.text section.window-content footer.form-footer {
    flex: 0 0 auto;
  }
  .popup {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 999;
    overflow: visible;
  }
  .popup-container {
    position: relative;
    background: #ff2090;
    max-width: 50vw;
    padding: 1rem;
    z-index: 1000;
    overflow: visible;
    clip-path: polygon(0.5rem 0px, calc(100% - 0.5rem) 0px, 100% 0.5rem, 100% calc(100% - 0.75rem), calc(100% - 0.75rem) 100%, 0.5rem 100%, 0px calc(100% - 0.5rem), 0px 0.5rem);
  }
  .popup-container::before {
    content: "";
    position: absolute;
    inset: 1px;
    z-index: -1;
    background: var(--background-color);
    box-shadow: inset 0 0 30px #1d282c;
    clip-path: polygon(0.5rem 0px, calc(100% - 0.5rem) 0px, 100% 0.5rem, 100% calc(100% - 0.75rem), calc(100% - 0.75rem) 100%, 0.5rem 100%, 0px calc(100% - 0.5rem), 0px 0.5rem);
  }
  .popup-container .input-group {
    position: relative;
  }
  .popup-container .buttons {
    margin-top: 1rem;
    display: flex;
    gap: 0.25rem;
  }
  .dropdown-list.floating {
    position: fixed;
    background: var(--background-color);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-top: none;
    border-radius: 0 0 3px 3px;
    max-height: 200px;
    overflow-y: auto;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.6);
    padding: 0;
    list-style: none;
    backdrop-filter: blur(5px);
    margin: 0;
    animation: fadeIn 80ms ease-out;
    font-family: var(--font-primary);
    font-size: var(--font-size);
    z-index: 1001;
    clip-path: polygon(0.25rem 0px, calc(100% - 0.25rem) 0px, 100% 0.25rem, 100% calc(100% - 0.25rem), calc(100% - 0.25rem) 100%, 0.25rem 100%, 0px calc(100% - 0.25rem), 0px 0.25rem);
  }
  .dropdown-item {
    padding: 0.5rem;
    cursor: pointer;
    color: #ddd;
    display: flex;
    align-items: center;
  }
  .dropdown-item i {
    margin-right: 0.5rem;
  }
  .dropdown-item:hover {
    background: rgba(255, 255, 255, 0.05);
  }
  .dropdown-empty {
    padding: 0.5rem;
    color: #888;
    text-align: center;
  }
  .preview.journal-content {
    min-height: 10rem;
    max-height: 30rem;
    overflow-y: auto;
  }
  .creation-dropdwn {
    width: 100%;
    margin-top: 0.25rem;
  }
  .character-creation-buttonpanel {
    display: grid;
    grid-template-columns: 1fr;
    grid-template-rows: repeat(4, auto);
    row-gap: 0.25rem;
  }
  .character-creation-buttonpanel button {
    width: 100%;
  }
  .editable-row {
    display: flex;
    align-items: center;
    justify-content: space-between;
    width: 100%;
    gap: 0.25rem;
    margin-bottom: 0.3rem;
  }
  .editable-row .label-line-wrap {
    display: flex;
    align-items: center;
    flex-grow: 1;
    gap: 0.25rem;
  }
  .editable-row .label-line-wrap .label {
    font-weight: 600;
    font-size: 0.875rem;
    color: var(--highlight-color-primary);
    white-space: nowrap;
  }
  .editable-row .label-line-wrap .dotted-line {
    flex-grow: 1;
    height: 2px;
    background-image: repeating-linear-gradient(to right, var(--highlight-color-primary), 0, var(--highlight-color-primary), 2px, transparent 1px, transparent 5px);
    opacity: 0.4;
    margin-top: 0.25rem;
  }
  .editable-row .value-unit {
    display: flex;
    align-items: baseline;
    gap: 0.25rem;
  }
  .editable-row .value-unit .editable-field {
    min-width: 2.5rem;
    padding: 0.3rem 0.5rem;
    border: 1px solid var(--color-border-light-primary);
    border-radius: 4px;
    font-size: 0.875rem;
    background: var(--color-bg-primary);
    text-align: right;
    color: white;
  }
  .editable-row .value-unit .unit {
    font-size: 0.875rem;
    font-weight: 600;
    color: var(--highlight-color-primary);
  }
  .flavor-edit-block {
    position: relative;
    z-index: 0;
    background: var(--highlight-color-primary);
    padding: 0.5rem;
    clip-path: polygon(0.25rem 0px, calc(100% - 0.25rem) 0px, 100% 0.25rem, 100% calc(100% - 0.25rem), calc(100% - 0.25rem) 100%, 0.25rem 100%, 0px calc(100% - 0.25rem), 0px 0.25rem);
  }
  .flavor-edit-block::before {
    content: '';
    position: absolute;
    inset: 1px;
    z-index: -1;
    background: var(--background-color);
    box-shadow: inset 0 0 30px #1d282c;
    pointer-events: none;
    clip-path: polygon(0.25rem 0px, calc(100% - 0.25rem) 0px, 100% 0.25rem, 100% calc(100% - 0.25rem), calc(100% - 0.25rem) 100%, 0.25rem 100%, 0px calc(100% - 0.25rem), 0px 0.25rem);
  }
  .flavor-edit-block.last-flavor-edit-block {
    margin-top: 0.25rem;
    clip-path: polygon(0.25rem 0px, calc(100% - 0.25rem) 0px, 100% 0.25rem, 100% calc(100% - 0.5rem), calc(100% - 0.5rem) 100%, 0.25rem 100%, 0px calc(100% - 0.25rem), 0px 0.25rem);
  }
  .flavor-edit-block.last-flavor-edit-block::before {
    clip-path: polygon(0.25rem 0px, calc(100% - 0.25rem) 0px, 100% 0.25rem, 100% calc(100% - 0.5rem), calc(100% - 0.5rem) 100%, 0.25rem 100%, 0px calc(100% - 0.25rem), 0px 0.25rem);
  }
  .editable-quote {
    margin-top: 0.25rem;
    padding: 0.4rem;
    border: 1px solid var(--color-border-light-primary);
    background: var(--color-bg-primary);
    border-radius: 4px;
    min-height: 2rem;
    font-size: 0.875rem;
    line-height: 1.4;
    white-space: pre-wrap;
    word-break: break-word;
    cursor: text;
  }
  .editable-quote:empty::before {
    content: attr(placeholder);
    color: var(--color-text-light-tertiary);
    pointer-events: none;
  }
  .editable-quote:focus {
    outline: 1px solid var(--color-border-highlight);
  }
  .points-position {
    position: relative;
  }
  .points-position .point-container {
    display: flex;
    flex-direction: column;
    position: absolute;
    left: -7.5rem;
    height: 7rem;
    width: 7rem;
    text-align: center;
    justify-content: center;
    padding: 0.5rem;
    gap: 1rem;
    /* horizontal */
    align-items: center;
    /* vertical */
    clip-path: polygon(0.5rem 0px, calc(100% - 0.5rem) 0px, 100% 0.5rem, 100% calc(100% - 0.5rem), calc(100% - 0.5rem) 100%, 0.5rem 100%, 0px calc(100% - 0.5rem), 0px 0.5rem);
  }
  .points-position .point-container h1 {
    font-size: 3rem;
  }
  .points-position .point-container div {
    margin-bottom: 0;
  }
  .attribute-point-assignment > .point-container:first-child {
    box-shadow: inset 0 0 10px 1px var(--highlight-color-primary), inset 0 0 30px var(--highlight-color-primary);
  }
  .attribute-point-assignment > .point-container:first-child h1 {
    color: var(--highlight-color-primary);
  }
  .attribute-point-assignment > .point-container:not(:first-child) {
    box-shadow: inset 0 0 30px rgba(0, 255, 255, 0.5);
  }
  .attribute-point-assignment > .point-container:not(:first-child) h1 {
    color: rgba(0, 255, 255, 0.5);
  }
  .skill-point-assignment > .point-container:first-child {
    box-shadow: inset 0 0 30px rgba(0, 255, 255, 0.5);
  }
  .skill-point-assignment > .point-container:first-child h1 {
    color: rgba(0, 255, 255, 0.5);
  }
  .skill-point-assignment > .point-container:not(:first-child) {
    box-shadow: inset 0 0 10px 1px var(--highlight-color-primary), inset 0 0 30px var(--highlight-color-primary);
  }
  .skill-point-assignment > .point-container:not(:first-child) h1 {
    color: var(--highlight-color-primary);
  }
  .skill-masonry-grid {
    margin: 0 auto;
    background-color: transparent;
    margin-bottom: -0.25rem;
  }
  .skill-masonry-grid .skill-card-container,
  .skill-masonry-grid .skill-grid-sizer {
    min-width: 6.5rem;
  }
  .skill-masonry-grid .skill-gutter-sizer {
    width: 0.25rem;
  }
  .skill-masonry-grid .skill-card-container {
    display: inline-block;
    vertical-align: top;
    box-sizing: border-box;
    position: relative;
    row-gap: 0.25rem;
    margin-bottom: 0.25rem;
    overflow: visible;
  }
  .skill-masonry-grid .skill-card-container .fa-pen-to-square {
    position: absolute;
    top: -0.25rem;
    right: -0.25rem;
    z-index: 1;
  }
  .skill-masonry-grid .skill-card-container .skill-card {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
    box-sizing: border-box;
    position: relative;
    background: var(--highlight-color-primary);
    text-align: center;
    padding: 0.5rem;
    clip-path: polygon(0.427rem 0px, calc(100% - 0.427rem) 0px, 100% 0.427rem, 100% calc(100% - 0.854rem), calc(100% - 0.854rem) 100%, 0.427rem 100%, 0px calc(100% - 0.427rem), 0px 0.427rem);
  }
  .skill-masonry-grid .skill-card-container .skill-card .skill-background-layer {
    position: absolute;
    z-index: -1;
    top: 1px;
    left: 1px;
    width: calc(100% - 2px);
    height: calc(100% - 2px);
    background: var(--background-color);
    box-shadow: inset 0 0 30px #1b1f24;
    pointer-events: none;
    clip-path: polygon(0.427rem 0px, calc(100% - 0.427rem) 0px, 100% 0.427rem, 100% calc(100% - 0.854rem), calc(100% - 0.854rem) 100%, 0.427rem 100%, 0px calc(100% - 0.427rem), 0px 0.427rem);
  }
  .skill-masonry-grid .skill-card-container .skill-card select.roll-type-select,
  .skill-masonry-grid .skill-card-container .skill-card select {
    clip-path: polygon(0.25rem 0px, calc(100% - 0.25rem) 0px, 100% 0.25rem, 100% calc(100% - 0.75rem), calc(100% - 0.75rem) 100%, 0.25rem 100%, 0px calc(100% - 0.25rem), 0px 0.25rem);
  }
  .skill-masonry-grid .skill-card-container .skill-name {
    flex: 1;
    text-indent: 0;
    text-overflow: ellipsis;
    white-space: nowrap;
    overflow: hidden;
  }
  .skill-masonry-grid .skill-card-container .skill-main-container {
    width: 100%;
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--highlight-color-primary);
    padding: 0.25rem;
    clip-path: polygon(0.5rem 0px, calc(100% - 0.5rem) 0px, 100% 0.5rem, 100% calc(100% - 0.5rem), calc(100% - 0.5rem) 100%, 0.5rem 100%, 0px calc(100% - 0.5rem), 0px 0.5rem);
  }
  .skill-masonry-grid .skill-card-container .skill-main-container::before {
    content: "";
    position: absolute;
    z-index: -1;
    top: 1px;
    left: 1px;
    width: calc(100% - 2px);
    height: calc(100% - 2px);
    background: var(--background-color);
    box-shadow: inset 0 0 12px var(--highlight-color-primary);
    pointer-events: none;
    clip-path: polygon(0.5rem 0px, calc(100% - 0.5rem) 0px, 100% 0.5rem, 100% calc(100% - 0.5rem), calc(100% - 0.5rem) 100%, 0.5rem 100%, 0px calc(100% - 0.5rem), 0px 0.5rem);
  }
  .skill-masonry-grid .skill-card-container .skill-main-container.button {
    cursor: pointer;
    transition: transform 0.2s ease-out, background-color 0.5s ease;
    will-change: transform;
  }
  .skill-masonry-grid .skill-card-container .skill-main-container.button:hover {
    transform: scale(1.05);
  }
  .skill-masonry-grid .skill-card-container .skill-main-container.button:hover .stat-card-background {
    box-shadow: inset 0 0 10px var(--highlight-color-primary);
  }
  .skill-masonry-grid .skill-card-container .skill-main-container.button:active {
    transform: scale(0.97);
  }
  .skill-masonry-grid .skill-card-container .skill-main-container.button:active .stat-card-background {
    box-shadow: inset 0 0 30px var(--highlight-color-primary);
  }
  .skill-masonry-grid .skill-card-container .skill-value {
    position: relative;
    min-width: 2rem;
    width: 100%;
    text-align: center;
    background: var(--highlight-color-primary);
    padding: 0.25rem;
    margin: 0;
    clip-path: polygon(0.5rem 0px, calc(100% - 0.5rem) 0px, 100% 0.5rem, 100% calc(100% - 0.5rem), calc(100% - 0.5rem) 100%, 0.5rem 100%, 0px calc(100% - 0.5rem), 0px 0.5rem);
  }
  .skill-masonry-grid .skill-card-container .skill-value::before {
    content: "";
    position: absolute;
    z-index: -1;
    top: 1px;
    left: 1px;
    width: calc(100% - 2px);
    height: calc(100% - 2px);
    background: var(--background-color);
    box-shadow: inset 0 0 12px var(--highlight-color-primary);
    pointer-events: none;
    clip-path: polygon(0.5rem 0px, calc(100% - 0.5rem) 0px, 100% 0.5rem, 100% calc(100% - 0.5rem), calc(100% - 0.5rem) 100%, 0.5rem 100%, 0px calc(100% - 0.5rem), 0px 0.5rem);
  }
  .specialization-container {
    width: 100%;
    display: flex;
    flex-direction: row;
    gap: 0.25rem;
    background: transparent;
    overflow: visible;
  }
  .skill-specialization-card {
    width: 100%;
    position: relative;
    display: flex;
    align-items: center;
    justify-content: space-between;
    background: var(--highlight-color-primary);
    padding: 0.25rem 0.25rem 0.25rem 0;
    clip-path: polygon(0.5rem 0px, calc(100% - 0.5rem) 0px, 100% 0.5rem, 100% calc(100% - 0.5rem), calc(100% - 0.5rem) 100%, 0.5rem 100%, 0px calc(100% - 0.5rem), 0px 0.5rem);
  }
  .skill-specialization-card::before {
    content: "";
    position: absolute;
    z-index: -1;
    top: 1px;
    left: 1px;
    width: calc(100% - 2px);
    height: calc(100% - 2px);
    background: var(--background-color);
    box-shadow: inset 0 0 12px var(--highlight-color-primary);
    pointer-events: none;
    clip-path: polygon(0.5rem 0px, calc(100% - 0.5rem) 0px, 100% 0.5rem, 100% calc(100% - 0.5rem), calc(100% - 0.5rem) 100%, 0.5rem 100%, 0px calc(100% - 0.5rem), 0px 0.5rem);
  }
  .skill-specialization-card.button {
    cursor: pointer;
    transition: transform 0.2s ease-out, background-color 0.5s ease;
    will-change: transform;
  }
  .skill-specialization-card.button:hover {
    transform: scale(1.05);
  }
  .skill-specialization-card.button:hover .stat-card-background {
    box-shadow: inset 0 0 10px var(--highlight-color-primary);
  }
  .skill-specialization-card.button:active {
    transform: scale(0.97);
  }
  .skill-specialization-card.button:active .stat-card-background {
    box-shadow: inset 0 0 30px var(--highlight-color-primary);
  }
  .skill-specialization-card .specialization-name {
    display: block;
    max-width: 12rem;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    flex-shrink: 1;
    flex-grow: 0;
    margin: 0rem 0rem 0rem 0.5rem;
    padding-right: 0.5rem;
    text-align: left;
    pointer-events: auto;
    position: relative;
    z-index: 1;
  }
  .embedded-value {
    position: relative;
    flex-shrink: 0;
    min-width: 2rem;
    text-align: center;
    background: var(--highlight-color-primary);
    padding: 0.25rem 0.5rem;
    margin: 0.25rem, 0rem, 0rem, 0.25rem;
    clip-path: polygon(0.5rem 0px, calc(100% - 0.5rem) 0px, 100% 0.5rem, 100% calc(100% - 0.5rem), calc(100% - 0.5rem) 100%, 0.5rem 100%, 0px calc(100% - 0.5rem), 0px 0.5rem);
  }
  .embedded-value::before {
    content: "";
    position: absolute;
    z-index: -1;
    top: 1px;
    left: 1px;
    width: calc(100% - 2px);
    height: calc(100% - 2px);
    background: var(--background-color);
    box-shadow: inset 0 0 12px var(--highlight-color-primary);
    pointer-events: none;
    clip-path: polygon(0.5rem 0px, calc(100% - 0.5rem) 0px, 100% 0.5rem, 100% calc(100% - 0.5rem), calc(100% - 0.5rem) 100%, 0.5rem 100%, 0px calc(100% - 0.5rem), 0px 0.5rem);
  }
  .skill-container-masonry-grid {
    margin: 0 auto;
    height: auto;
  }
  .skill-container-masonry-grid .skill-container-gutter-sizer {
    width: 0.25rem;
  }
  .skill-container-masonry-grid .skill-container-grid-sizer,
  .skill-container-masonry-grid .skill-category-container {
    min-width: 13rem;
  }
  .skill-container-masonry-grid h1,
  .skill-container-masonry-grid h4 {
    margin: 0;
  }
  .skill-container-masonry-grid h1 {
    text-indent: 0;
  }
  .skill-container-masonry-grid h4 {
    text-align: center;
  }
  .skill-container-masonry-grid h4:hover {
    color: #1b1f24;
  }
  .skill-container-masonry-grid .skill-category-container {
    display: inline-block;
    vertical-align: top;
    box-sizing: border-box;
    position: relative;
    z-index: 1;
    margin-top: 0.25rem;
    padding: 0.5rem;
    background: #ff2090;
    clip-path: polygon(0.427rem 0px, calc(100% - 0.427rem) 0px, 100% 0.427rem, 100% calc(100% - 0.854rem), calc(100% - 0.854rem) 100%, 0.427rem 100%, 0px calc(100% - 0.427rem), 0px 0.427rem);
  }
  .skill-container-masonry-grid .skill-category-container.static-full-width {
    width: 100%;
  }
  .skill-container-masonry-grid .skill-category-container::before {
    content: "";
    position: absolute;
    top: 1px;
    left: 1px;
    width: calc(100% - 2px);
    height: calc(100% - 2px);
    z-index: -1;
    pointer-events: none;
    background: var(--background-color);
    box-shadow: inset 0 0 30px #1b1f24;
    clip-path: polygon(0.427rem 0px, calc(100% - 0.427rem) 0px, 100% 0.427rem, 100% calc(100% - 0.854rem), calc(100% - 0.854rem) 100%, 0.427rem 100%, 0px calc(100% - 0.427rem), 0px 0.427rem);
  }
  .skill-container-masonry-grid .skill-category-container .skill-container-header {
    padding: 0.5rem 1rem 1rem 1rem;
  }
  .skill-container-masonry-grid .skill-category-container .skill-label {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0;
    margin: 0;
  }
  .skill-container-masonry-grid .skill-category-container .skill-label input {
    margin: 0;
  }
  .skill-container-masonry-grid .skill-category-container .skill-label input:hover {
    box-shadow: inset 0 0 25px var(--highlight-color-primary);
    transition: box-shadow 0.3s ease-in;
  }
  .skill-container-masonry-grid .skill-category-container .skill-label i {
    margin: 0 0.5rem;
  }
  .skill-container-masonry-grid .skill-category-container:hover {
    background-color: #ff2090;
    z-index: 10;
  }
  .search-container {
    position: relative;
    display: inline-block;
  }
  .search-container input {
    padding-left: 2rem;
    /* space for the icon */
  }
  .effects-editor {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr 1fr;
    gap: 0.25rem;
    width: calc(var(--component-width) * 4rem + 1.5rem);
    background-color: transparent;
  }
  .effects-editor > .item-sheet-component:first-of-type {
    grid-column: span 1;
  }
  .effects-editor > .item-sheet-component:last-of-type {
    grid-column: span 3;
  }
  .effects-editor .sr3e-inner-background {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
    padding: 0;
    margin: 0;
  }
  .effects-editor .input-container-text {
    text-align: center;
    justify-content: center;
  }
  .broadcaster-info {
    display: flex;
    flex-direction: row;
    align-items: stretch;
    width: 100%;
    box-sizing: border-box;
    overflow: hidden;
  }
  .broadcaster-info .image-mask {
    width: var(--component-width);
    aspect-ratio: 1 / 1;
    flex-shrink: 0;
  }
  .broadcaster-info .broadcaster-control {
    flex: 1 1 0;
    min-width: 0;
    display: flex;
    flex-direction: column;
    justify-content: center;
    text-align: center;
    padding: 0.5rem;
    box-sizing: border-box;
    overflow: hidden;
    background: transparent;
  }
  .news-input {
    text-align: left;
    margin-bottom: 1rem;
  }
  .list-box select {
    width: 100%;
    min-height: 10rem;
    padding: 0.25rem;
    color: var(--color-text-dark, #000);
    font-size: 1rem;
    box-sizing: border-box;
    overflow-y: auto;
    outline: none;
  }
  .form-group {
    padding: 0.5rem;
  }
  header.window-header {
    display: flex;
    align-items: center;
    padding: 0 0.5rem;
  }
  header.window-header h1.window-title {
    max-width: 10rem;
    min-width: 0;
    flex: 0 1 auto;
    margin: 0;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    margin-right: auto;
  }
  .active-effects-editor .window-header,
  .sr3e.sheet.item .window-header,
  .sr3e.sheet.charactercreation .window-header,
  .sr3e-item-header,
  .sr3e-actor-header {
    background-color: transparent;
    box-shadow: inset 0 0 10px #ff2090;
    clip-path: polygon(0.5rem 0px, calc(100% - 0.5rem) 0px, 100% 0.5rem, 100% calc(100% - 0rem), calc(100% - 0rem) 100%, 0rem 100%, 0px calc(100% - 0rem), 0px 0.5rem);
  }
  .sr3e-dialog-header {
    background: transparent;
  }
  a.button,
  button.plain,
  button.plain.active,
  button {
    position: relative;
    background-color: hotpink;
    color: var(--highlight-color-primary);
    border: none;
    cursor: pointer;
    margin: 0rem;
    padding: 0.5rem;
    clip-path: polygon(0.25rem 0px, calc(100% - 0.25rem) 0px, 100% 0.25rem, 100% calc(100% - 0.25rem), calc(100% - 0.25rem) 100%, 0.25rem 100%, 0px calc(100% - 0.25rem), 0px 0.25rem);
  }
  a.button::after,
  button.plain::after,
  button.plain.active::after,
  button::after {
    content: "";
    z-index: -1;
    color: var(--highlight-color-primary);
    position: absolute;
    background: #3b3b3b;
    top: 1px;
    left: 1px;
    width: calc(100% - 2px);
    height: calc(100% - 2px);
    pointer-events: none;
    box-shadow: inset 0 0 10px var(--accent-color-primary);
    transition: box-shadow 0.3s ease;
    clip-path: polygon(0.25rem 0px, calc(100% - 0.25rem) 0px, 100% 0.25rem, 100% calc(100% - 0.25rem), calc(100% - 0.25rem) 100%, 0.25rem 100%, 0px calc(100% - 0.25rem), 0px 0.25rem);
  }
  a.button:hover::after,
  button.plain:hover::after,
  button.plain.active:hover::after,
  button:hover::after {
    transition: background-color 0.5s ease;
    box-shadow: inset 0 0 15px var(--accent-color-primary), inset 0 0 5px var(--accent-color-primary);
  }
  a.button:active,
  button.plain:active,
  button.plain.active:active,
  button:active {
    background: var(--accent-color-secondary);
  }
  a.button:active::after,
  button.plain:active::after,
  button.plain.active:active::after,
  button:active::after {
    position: absolute;
    box-shadow: inset 0 0 15px var(--accent-color-primary), inset 0 0 10px var(--accent-color-primary), inset 0 0 5px var(--accent-color-primary);
  }
  a.button[disabled],
  button[disabled] {
    background: grey;
    color: grey;
    pointer-events: none;
    user-select: none;
    cursor: not-allowed;
  }
  a.button[disabled]::after,
  button[disabled]::after {
    background: #353535;
    box-shadow: none;
  }
  a.button[disabled]:hover::after,
  button[disabled]:hover::after,
  a.button[disabled]:active::after,
  button[disabled]:active::after {
    box-shadow: none;
    text-shadow: none;
    background: #353535;
  }
  footer.form-footer button:last-of-type {
    clip-path: polygon(0.25rem 0px, calc(100% - 0.25rem) 0px, 100% 0.25rem, 100% calc(100% - 0.75rem), calc(100% - 0.75rem) 100%, 0.25rem 100%, 0px calc(100% - 0.25rem), 0px 0.25rem);
  }
  footer.form-footer button:last-of-type::after {
    clip-path: polygon(0.25rem 0px, calc(100% - 0.25rem) 0px, 100% 0.25rem, 100% calc(100% - 0.75rem), calc(100% - 0.75rem) 100%, 0.25rem 100%, 0px calc(100% - 0.25rem), 0px 0.25rem);
  }
  .buttons-vertical-distribution {
    display: inline-flex;
    flex-direction: row;
    flex-wrap: nowrap;
    align-items: center;
    justify-content: flex-start;
    gap: 0.25rem;
    padding: 0rem;
    margin: 0rem;
    width: fit-content;
    max-width: max-content;
    align-self: flex-start;
  }
  .buttons-vertical-distribution > button {
    flex: 0 0 auto;
    white-space: nowrap;
    width: auto;
  }
  .buttons-vertical-distribution.square > button {
    aspect-ratio: 1 / 1;
    width: 1.5rem;
    height: 1.5rem;
    min-width: 1.5rem;
    min-height: 1.5rem;
    padding: 0;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    white-space: normal;
  }
  img {
    margin: 0rem;
    background-color: transparent;
    clip-path: polygon(0.5rem 0px, calc(100% - 0.5rem) 0px, 100% 0.5rem, 100% calc(100% - 0.5rem), calc(100% - 0.5rem) 100%, 0.5rem 100%, 0px calc(100% - 0.5rem), 0px 0.5rem);
  }
  .image-mask {
    width: 100%;
    aspect-ratio: 1/1;
    position: relative;
    background: #ff2090;
    clip-path: polygon(0.427rem 0px, calc(100% - 0.427rem) 0px, 100% 0.427rem, 100% calc(100% - 0.854rem), calc(100% - 0.854rem) 100%, 0.427rem 100%, 0px calc(100% - 0.427rem), 0px 0.427rem);
  }
  .image-mask::before {
    overflow: hidden;
    content: '';
    position: absolute;
    z-index: 1;
    pointer-events: none;
    clip-path: polygon(0.427rem 0px, calc(100% - 0.427rem) 0px, 100% 0.427rem, 100% calc(100% - 0.854rem), calc(100% - 0.854rem) 100%, 0.427rem 100%, 0px calc(100% - 0.427rem), 0px 0.427rem);
  }
  .image-mask img {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: calc(100% - 2px);
    height: calc(100% - 2px);
    object-fit: cover;
    z-index: 100;
    clip-path: polygon(0.427rem 0px, calc(100% - 0.427rem) 0px, 100% 0.427rem, 100% calc(100% - 0.854rem), calc(100% - 0.854rem) 100%, 0.427rem 100%, 0px calc(100% - 0.427rem), 0px 0.427rem);
  }
  select.roll-type-select,
  select {
    appearance: none;
    text-indent: 0.5rem;
    background: #1b1f24 !important;
    color: #ff80c8;
    width: 100%;
    border: none;
    border-radius: 0rem !important;
    box-shadow: inset 0 0 1rem #ff2090;
    margin: 0 !important;
    clip-path: polygon(0.25rem 0px, calc(100% - 0.25rem) 0px, 100% 0.25rem, 100% calc(100% - 0.25rem), calc(100% - 0.25rem) 100%, 0.25rem 100%, 0px calc(100% - 0.25rem), 0px 0.25rem);
  }
  optgroup {
    background-color: #003856;
  }
  option {
    text-indent: 0.5rem;
    background-color: #003856;
    border-radius: 0rem;
    border: none;
    clip-path: polygon(0.25rem 0px, calc(100% - 0.25rem) 0px, 100% 0.25rem, 100% calc(100% - 0.25rem), calc(100% - 0.25rem) 100%, 0.25rem 100%, 0px calc(100% - 0.25rem), 0px 0.25rem);
  }
  select option {
    background-color: #1b1f24;
    color: #ff2090;
    clip-path: polygon(0.25rem 0px, calc(100% - 0.25rem) 0px, 100% 0.25rem, 100% calc(100% - 0.25rem), calc(100% - 0.25rem) 100%, 0.25rem 100%, 0px calc(100% - 0.25rem), 0px 0.25rem);
  }
  /* Firefox (Gecko) */
  .system-sr3e,
  .system-sr3e * {
    scrollbar-width: thin;
    scrollbar-color: rgba(0, 255, 255, 0.5);
  }
  /* WebKit browsers (Chrome, Edge, Safari) */
  .system-sr3e::-webkit-scrollbar,
  .system-sr3e *::-webkit-scrollbar {
    width: 8px;
    height: 8px;
    background: transparent;
  }
  .system-sr3e::-webkit-scrollbar-track,
  .system-sr3e *::-webkit-scrollbar-track {
    background: transparent;
  }
  .system-sr3e::-webkit-scrollbar-thumb,
  .system-sr3e *::-webkit-scrollbar-thumb {
    background: rgba(0, 255, 255, 0.5);
    border-radius: 6px;
  }
  .system-sr3e::-webkit-scrollbar-corner,
  .system-sr3e *::-webkit-scrollbar-corner {
    background: transparent;
  }
  /* Attempt to hide arrows (may not work in all browsers) */
  .system-sr3e::-webkit-scrollbar-button,
  .system-sr3e *::-webkit-scrollbar-button {
    background: transparent;
    display: none;
  }
  .application.category-browser {
    display: flex;
    flex-direction: column;
    height: 100%;
  }
  .application.category-browser form.application {
    display: flex;
    flex-direction: column;
    flex: 1 1 auto;
    height: 100%;
    width: auto;
  }
  .application.category-browser .sheet-component {
    display: flex;
    flex-direction: column;
    flex: 1 1 auto;
    min-height: 0;
  }
  .application.category-browser .sr3e-inner-background-container {
    display: flex;
    flex-direction: column;
    flex: 1 1 auto;
    min-height: 0;
  }
  .application.category-browser .sr3e-inner-background {
    display: flex;
    flex-direction: column;
    flex: 1 1 auto;
    min-height: 0;
    height: 100%;
    width: 100%;
  }
  .application.category-browser .sr3e-inner-background .window-content {
    flex: 1 1 auto;
    display: flex;
    flex-direction: row;
    min-height: 0;
    overflow: hidden;
    width: 100%;
  }
  .application.category-browser .sr3e-inner-background .window-content > .flexcol[data-application-part="sidebar"] {
    flex: 0 0 auto;
    min-width: 160px;
    max-width: 220px;
    padding-right: 0.5rem;
    overflow: hidden;
  }
  .application.category-browser .sr3e-inner-background .window-content > .main {
    flex: 1 1 auto;
    min-width: 0;
    overflow: hidden;
    display: flex;
    flex-direction: column;
  }
  .application.category-browser .sr3e-inner-background .main,
  .application.category-browser .sr3e-inner-background .flexcol {
    flex: 1 1 auto;
    min-height: 0;
    min-width: 0;
    overflow: hidden;
    display: flex;
    flex-direction: column;
  }
  .application.category-browser .sr3e-inner-background .categories.scrollable,
  .application.category-browser .sr3e-inner-background .tabs.scrollable {
    flex: 1 1 auto;
    min-height: 0;
    min-width: 0;
    overflow-y: auto;
    overflow-x: auto;
  }
  input[type="search"],
  input[type="number"],
  input[type="text"] {
    background: var(--background-color);
    box-shadow: inset 0 0 1rem var(--highlight-color-primary);
    color: var(--highlight-color-primary);
    border: none;
    font-size: 1.5rem;
    width: 100%;
    min-width: 2rem;
    max-width: 100%;
    text-indent: 0.5rem;
    font-size: 1rem;
    text-align: center;
    clip-path: polygon(0.25rem 0px, calc(100% - 0.25rem) 0px, 100% 0.25rem, 100% calc(100% - 0.25rem), calc(100% - 0.25rem) 100%, 0.25rem 100%, 0px calc(100% - 0.25rem), 0px 0.25rem);
    transition: box-shadow 0.3s ease;
  }
  input[type="search"].large,
  input[type="number"].large,
  input[type="text"].large {
    min-height: 1.5rem;
    font-size: 1.5rem;
    text-shadow: var(--h1-color) bloom-primary;
  }
  input[type="search"]::before,
  input[type="number"]::before,
  input[type="text"]::before {
    background: var(--background-color) !important;
    box-shadow: inset 0 0 30px #1d282c;
    color: var(--highlight-color-primary) !important;
    content: "";
    position: absolute;
    z-index: -1;
    top: 1px;
    left: 1px;
    width: calc(100% - 2px);
    height: calc(100% - 2px);
    pointer-events: none;
    clip-path: polygon(0.25rem 0px, calc(100% - 0.25rem) 0px, 100% 0.25rem, 100% calc(100% - 0.25rem), calc(100% - 0.25rem) 100%, 0.25rem 100%, 0px calc(100% - 0.25rem), 0px 0.25rem);
  }
  input[type="search"]:focus,
  input[type="number"]:focus,
  input[type="text"]:focus {
    box-shadow: inset 0 0 10px var(--highlight-color-primary);
    outline: none;
  }
  input[type="checkbox"] {
    appearance: none;
    -webkit-appearance: none;
    -moz-appearance: none;
    background-color: var(--highlight-color-primary);
    width: 20px;
    height: 20px;
    cursor: pointer;
    position: relative;
    box-sizing: border-box;
    overflow: hidden;
    clip-path: polygon(0.25rem 0px, calc(100% - 0.25rem) 0px, 100% 0.25rem, 100% calc(100% - 0.25rem), calc(100% - 0.25rem) 100%, 0.25rem 100%, 0px calc(100% - 0.25rem), 0px 0.25rem);
  }
  input[type="checkbox"]::before {
    content: "";
    position: absolute;
    top: 1px;
    left: 1px;
    width: calc(100% - 2px);
    height: calc(100% - 2px);
    background: var(--background-color);
    z-index: 1;
    clip-path: polygon(0.25rem 0px, calc(100% - 0.25rem) 0px, 100% 0.25rem, 100% calc(100% - 0.25rem), calc(100% - 0.25rem) 100%, 0.25rem 100%, 0px calc(100% - 0.25rem), 0px 0.25rem);
  }
  input[type="checkbox"]:checked {
    background-color: var(--highlight-color-primary);
  }
  input[type="checkbox"]:checked::before {
    content: "";
    position: absolute;
    top: 1px;
    left: 1px;
    width: calc(100% - 2px);
    height: calc(100% - 2px);
    background: var(--background-color);
    box-shadow: inset 0 0 0.5rem var(--highlight-color-primary);
    z-index: 1;
    clip-path: polygon(0.25rem 0px, calc(100% - 0.25rem) 0px, 100% 0.25rem, 100% calc(100% - 0.25rem), calc(100% - 0.25rem) 100%, 0.25rem 100%, 0px calc(100% - 0.25rem), 0px 0.25rem);
  }
  .window-content {
    backdrop-filter: none;
  }
  menu.controls-dropdown.expanded {
    z-index: 999;
  }
  thead {
    background: none;
  }
  table {
    width: 100%;
    table-layout: auto;
    border-collapse: collapse;
    box-sizing: border-box;
    padding: 0;
    margin: 0;
    background: transparent;
    height: auto;
    max-height: none;
  }
  table tr,
  table thead tr,
  table tbody tr {
    height: 1.5rem;
    min-height: 1.5rem;
    max-height: 1.5rem;
    background: transparent;
    overflow: hidden;
  }
  table td,
  table th {
    height: 1.5rem;
    min-height: 1.5rem;
    max-height: 1.5rem;
    vertical-align: middle;
    padding: 0.125rem;
    background: transparent;
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
  }
  table .cell-content {
    display: flex;
    align-items: center;
    justify-content: flex-start;
    height: 100%;
    min-height: 0;
    max-height: 1.5rem;
    line-height: 1.5rem;
    overflow: hidden;
    min-width: 0;
    flex-wrap: nowrap;
  }
  table .cell-content > * {
    height: 100%;
    min-height: 0;
    max-height: 1.5rem;
    min-width: 0;
    flex-shrink: 1;
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
  }
  table .cell-content button {
    flex-shrink: 1;
    min-width: 0;
    width: auto;
    height: 100%;
    padding: 0;
    margin: 0;
    line-height: 1.5rem;
    white-space: nowrap;
    text-overflow: ellipsis;
    font-size: 0.75rem;
  }
  table .portrait-cell {
    width: 1.5rem;
    height: 1.5rem;
    position: relative;
    overflow: hidden;
    clip-path: polygon(0.25rem 0px, calc(100% - 0.25rem) 0px, 100% 0.25rem, 100% calc(100% - 0.25rem), calc(100% - 0.25rem) 100%, 0.25rem 100%, 0px calc(100% - 0.25rem), 0px 0.25rem);
  }
  table .stat-card {
    background: transparent;
  }
  table .stat-card.centered {
    width: 95%;
    height: 100%;
    margin: 0.25rem !important;
    background: transparent;
  }
  table .stat-card.centered input[type="checkbox"] {
    margin: 0.25rem !important;
    display: block;
    background: transparent;
  }
  table thead th {
    padding: 0.5rem;
    background: transparent;
    text-align: left;
    white-space: nowrap;
    margin: 0.5rem;
    vertical-align: middle;
    height: 1.5rem;
    min-height: 1.5rem;
    max-height: 1.5rem;
    box-shadow: inset 0 0 30px var(--highlight-color-primary);
  }
  td {
    height: 1.5rem;
    min-height: 1.5rem;
    max-height: 1.5rem;
    margin: 0.5rem;
    background: transparent;
    vertical-align: middle;
    box-shadow: inset 0 0 30px var(--highlight-color-primary);
    overflow: hidden;
  }
  td input[type="text"],
  td input[type="number"],
  td select {
    margin: 0;
    padding: 0;
    min-width: 6rem;
    width: 100%;
    box-sizing: border-box;
    max-width: 8rem;
    background: transparent;
    height: 100%;
    max-height: 1.5rem;
    line-height: 1.5rem;
    white-space: nowrap;
    text-overflow: ellipsis;
    overflow: hidden;
  }
  table tr:nth-child(even) > td {
    box-shadow: inset 0 0 30px var(--highlight-color-secondary);
    background: transparent;
  }
  table thead > tr:first-child > th:first-child {
    clip-path: polygon(0.5rem 0px, calc(100% - 0rem) 0px, 100% 0rem, 100% calc(100% - 0rem), calc(100% - 0rem) 100%, 0.5rem 100%, 0px calc(100% - 0.5rem), 0px 0.5rem);
    background: transparent;
    box-shadow: inset 0 0 30px var(--highlight-color-primary);
  }
  table thead > tr:last-child > th:last-child {
    clip-path: polygon(0rem 0px, calc(100% - 0.5rem) 0px, 100% 0.5rem, 100% calc(100% - 0.5rem), calc(100% - 0.5rem) 100%, 0rem 100%, 0px calc(100% - 0rem), 0px 0rem);
    background: transparent;
    box-shadow: inset 0 0 30px var(--highlight-color-primary);
  }
  table tbody > tr > td:first-child {
    clip-path: polygon(0.5rem 0px, calc(100% - 0rem) 0px, 100% 0rem, 100% calc(100% - 0rem), calc(100% - 0rem) 100%, 0.5rem 100%, 0px calc(100% - 0.5rem), 0px 0.5rem);
    background: transparent;
  }
  table tbody > tr > td:last-child {
    clip-path: polygon(0rem 0px, calc(100% - 0.5rem) 0px, 100% 0.5rem, 100% calc(100% - 0.5rem), calc(100% - 0.5rem) 100%, 0rem 100%, 0px calc(100% - 0rem), 0px 0rem);
    background: transparent;
  }
  button {
    white-space: nowrap;
  }
  .chat-message.message {
    background: transparent;
    border-radius: 0;
    margin: 0;
    padding: 0;
  }
  .chat-message.message h4.message-sender {
    color: var(--author-color);
    text-shadow: 0 0 1rem var(--author-color), 0 0 0.5rem black;
  }
  .chat-message.message .chat-message-wrapper {
    /* NEW ↓ ensure the wrapper takes only as much space as it needs */
    display: inline-block;
    position: relative;
    /* anchor the absolute bg */
    padding: 0.5rem;
  }
  .chat-message.message .chat-message-wrapper .chat-message-dynamic-background {
    /* NEW ↓ overlay exactly the wrapper’s box */
    inset: 0;
    z-index: 0;
    position: absolute;
    top: 1.5rem;
    left: 1.5rem;
    background-color: var(--author-color);
    width: calc(100% - 1.5rem);
    height: calc(100% - 1.5rem);
    z-index: -2;
    filter: blur(20px);
    clip-path: polygon(0.5rem 0px, calc(100% - 0.5rem) 0px, 100% 0.5rem, 100% calc(100% - 0.75rem), calc(100% - 0.75rem) 100%, 0.5rem 100%, 0px calc(100% - 0.5rem), 0px 0.5rem);
  }
  .chat-message.message .chat-message-wrapper .chat-message-dynamic {
    position: relative;
    z-index: 1;
    padding: 0.5rem;
    background: var(--author-color);
    clip-path: polygon(0.5rem 0px, calc(100% - 0.5rem) 0px, 100% 0.5rem, 100% calc(100% - 0.5rem), calc(100% - 0.5rem) 100%, 0.5rem 100%, 0px calc(100% - 0.5rem), 0px 0.5rem);
  }
  .chat-message.message .chat-message-wrapper .chat-message-dynamic::before {
    content: "";
    position: absolute;
    z-index: -1;
    top: 1px;
    left: 1px;
    width: calc(100% - 2px);
    height: calc(100% - 2px);
    background: var(--background-with-image);
    background-blend-mode: multiply, multiply, overlay;
    background-repeat: repeat;
    background-size: 200;
    box-shadow: inset 0 0 30px black;
    pointer-events: none;
    clip-path: polygon(0.5rem 0px, calc(100% - 0.5rem) 0px, 100% 0.5rem, 100% calc(100% - 0.5rem), calc(100% - 0.5rem) 100%, 0.5rem 100%, 0px calc(100% - 0.5rem), 0px 0.5rem);
  }
  textarea#chat-message {
    font-family: 'VT323', monospace;
    margin: 0.33rem 0;
    line-height: 1rem;
    color: var(--h1-color);
    font-size: 0.9rem;
    color: var(--user-color);
    margin: 0rem;
    position: relative;
    width: 100%;
    height: 100%;
    padding: 0.5rem;
    background: var(--background-color);
    border-radius: 0rem;
    outline: none;
    clip-path: polygon(0.5rem 0px, calc(100% - 0.5rem) 0px, 100% 0.5rem, 100% calc(100% - 0.5rem), calc(100% - 0.5rem) 100%, 0.5rem 100%, 0px calc(100% - 0.5rem), 0px 0.5rem);
  }
  textarea#chat-message:focus {
    outline: none;
    box-shadow: 0 0 0.5rem var(--accent-color-primary), inset 0 0 2rem var(--user-color);
  }
  textarea#chat-message:hover {
    outline: none;
    box-shadow: inset 0 0 2rem var(--user-color);
  }
  textarea#chat-message:active {
    box-shadow: inset 0 0 3rem var(--user-color);
  }
  .sr3e-tabs {
    display: flex;
    flex-direction: row;
    margin-bottom: 0rem;
    border-radius: 0;
  }
  .sr3e-tabs > button {
    clip-path: polygon(0.25rem 0px, calc(100% - 0.25rem) 0px, 100% 0.25rem, 100% calc(100% - 0rem), calc(100% - 0rem) 100%, 0rem 100%, 0px calc(100% - 0rem), 0px 0.25rem);
  }
  .sr3e-tabs > button::after {
    clip-path: polygon(0.25rem 0px, calc(100% - 0.25rem) 0px, 100% 0.25rem, 100% calc(100% - 0rem), calc(100% - 0rem) 100%, 0rem 100%, 0px calc(100% - 0rem), 0px 0.25rem);
  }
  .sr3e.sheet.character .skills .sr3e-inner-background {
    clip-path: polygon(0rem 0px, calc(100% - 0.5rem) 0px, 100% 0.5rem, 100% calc(100% - 0.75rem), calc(100% - 0.75rem) 100%, 0.5rem 100%, 0px calc(100% - 0.5rem), 0px 0rem);
  }
  .sr3e.sheet.character .skills .sr3e-inner-background::before {
    clip-path: polygon(0rem 0px, calc(100% - 0.5rem) 0px, 100% 0.5rem, 100% calc(100% - 0.75rem), calc(100% - 0.75rem) 100%, 0.5rem 100%, 0px calc(100% - 0.5rem), 0px 0rem);
  }
  .journal-viewer {
    min-height: 20rem;
  }
  .journal-viewer .journal-search-bar {
    margin-bottom: 0.5rem;
  }
  .journal-viewer .journal-search-bar .search-button-row {
    display: flex;
    align-items: stretch;
    gap: 0.25rem;
  }
  .journal-viewer .journal-search-bar .search-button-row .dropdown-wrapper {
    position: relative;
    flex: 1;
  }
  .journal-viewer .journal-search-bar .dropdown-input {
    width: 100%;
    padding: 0.5rem;
    font-size: 0.9rem;
    box-sizing: border-box;
    background: #1e1e1e;
    color: #f0f0f0;
    border: 1px solid #444;
    border-radius: 4px;
  }
  .journal-viewer .journal-search-bar .dropdown-list {
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    background: #1e1e1e;
    border: 1px solid #444;
    border-top: none;
    border-radius: 0 0 4px 4px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5);
    max-height: 12rem;
    overflow-y: auto;
    list-style: none;
    margin: 0;
    padding: 0;
    pointer-events: all;
    z-index: 20;
  }
  .journal-viewer .journal-search-bar .dropdown-item {
    padding: 0.4rem 0.6rem;
    cursor: pointer;
    color: #f0f0f0;
  }
  .journal-viewer .journal-search-bar .dropdown-item:hover {
    background-color: #2e2e2e;
  }
  .journal-viewer .journal-search-bar .dropdown-empty {
    padding: 0.4rem 0.6rem;
    color: #888;
    background-color: #1e1e1e;
    font-style: italic;
  }
  .journal-viewer .journal-search-bar .open-journal-button {
    padding: 0 0.75rem;
    font-size: 1rem;
    background: #2a2a2a;
    color: #fff;
    border: 1px solid #555;
    border-radius: 4px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  .journal-viewer .journal-search-bar .open-journal-button:hover {
    background: #3a3a3a;
  }
  .journal-viewer .journal-preview {
    font-size: 0.85rem;
    padding: 0.5rem;
    background: #121212;
    color: #ddd;
    border: 1px solid #444;
    max-height: 10rem;
    overflow: hidden;
    text-overflow: ellipsis;
  }
  .attribute-masonry-grid {
    margin: 0 auto;
  }
  .attribute-masonry-grid .attribute-gutter-sizer {
    width: 0.25rem;
  }
  .attribute-masonry-grid .stat-card {
    min-width: 6.5rem;
  }
  .attribute-masonry-grid .stat-card {
    margin-top: 0.25rem;
    padding: 0.25rem 0.25rem 0.25rem 0.25rem;
    outline: none;
  }
  .attribute-masonry-grid .stat-card .stat-label {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0;
    margin: 0;
  }
  .attribute-masonry-grid .stat-card .stat-label h4.no-margin.uppercase {
    margin: 0.5rem 0rem 0rem 0.5rem;
  }
  .attribute-masonry-grid .stat-card .stat-label input {
    margin: 0rem;
  }
  .attribute-masonry-grid .stat-card .stat-label input:hover {
    box-shadow: inset 0 0 25px var(--highlight-color-primary);
    transition: box-shadow 0.3s ease-in;
  }
  .attribute-masonry-grid .stat-card .stat-label i {
    margin-right: 0.5rem;
    margin-left: 0.5rem;
  }
  .attribute-masonry-grid .stat-card .stat-label .decrement-attribute,
  .attribute-masonry-grid .stat-card .stat-label .increment-attribute {
    text-align: center;
    font-size: 0.8rem;
    color: var(--h1-color);
    cursor: pointer;
    transition: text-shadow 0.3s ease, filter 0.3s ease, transform 0.1s ease;
  }
  .attribute-masonry-grid .stat-card .stat-label .decrement-attribute:hover,
  .attribute-masonry-grid .stat-card .stat-label .increment-attribute:hover {
    text-shadow: 0 0 10px var(--highlight-color-primary);
    filter: brightness(1.5);
    transform: scale(1.3);
    z-index: 10;
  }
  .attribute-masonry-grid .stat-card .stat-label .decrement-attribute:active,
  .attribute-masonry-grid .stat-card .stat-label .increment-attribute:active {
    transform: scale(1.1);
    filter: brightness(1.2);
  }
  .attribute-masonry-grid .stat-card .stat-label .decrement-attribute.disabled,
  .attribute-masonry-grid .stat-card .stat-label .increment-attribute.disabled {
    color: grey;
    pointer-events: none;
    opacity: 0.5;
  }
  .attribute-masonry-grid .stat-card:hover {
    background-color: #ff2090;
    z-index: 10;
  }
  .sheet-component {
    box-sizing: border-box;
    min-width: var(--component-width);
    display: flex;
    flex-direction: column;
    flex: 1 1 auto;
    min-height: 0;
  }
  .sheet-component .portrait {
    aspect-ratio: 1 / 1;
    object-fit: cover;
    object-position: center;
    border: 0;
    z-index: 1;
    clip-path: polygon(0.5rem 0px, calc(100% - 0.5rem) 0px, 100% 0.5rem, 100% calc(100% - 1rem), calc(100% - 1rem) 100%, 0.5rem 100%, 0px calc(100% - 0.5rem), 0px 0.5rem);
  }
  .toolbar {
    display: flex;
    flex-direction: row;
    position: absolute;
    top: 0rem;
    right: 0rem;
    padding: 0.5rem;
    opacity: 0;
    transition: opacity 0.2s ease;
  }
  .toolbar:hover {
    opacity: 1;
    transition: opacity 0.2s ease;
  }
  .toolbar .sr3e-toolbar-button {
    margin-left: 0.25rem;
    max-width: 100%;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }
  .pulsing-green-cart {
    color: inherit;
    cursor: pointer;
    animation: pulse-color-scale 2s infinite ease-in-out;
  }
  .pulsing-green-cart i {
    animation: pulse-color-scale 2s infinite ease-in-out;
  }
  @keyframes pulse-color-scale {
    0%,
    100% {
      transform: scale(0.98);
      color: #00fc00c0;
      text-shadow: none;
    }
    50% {
      transform: scale(1);
      color: var(--highlight-color-primary);
      text-shadow: 0 0 10px #45d06b, 0 0 20px #e6ff8d;
    }
  }
  .counter-bar {
    display: flex;
    flex-direction: column;
    gap: 1rem;
  }
  .counter-bar h1 {
    font-size: 1.5rem;
    margin-bottom: 0;
  }
  .counter-bar .text-display {
    display: flex;
    flex-direction: row;
    justify-content: center;
    gap: 0.25rem;
  }
  .counter-bar .text-display .clock {
    color: --h3-color;
  }
  .counter-bar .time-editor {
    display: flex;
    flex-direction: row;
    gap: 0.25rem;
  }
  .counter-bar .time-editor-component {
    display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: center;
    gap: 0.25rem;
    margin: 0;
  }
  .counter-bar .time-editor-component .time-display {
    font-size: 1.5rem;
  }
  .karma-manager {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
  }
  .karma-manager .player-handler {
    display: flex;
    flex-direction: row;
    justify-content: center;
    align-items: center;
    gap: 0.25rem;
  }
  .karma-manager .player-handler > * {
    flex: 1;
    max-width: 100%;
    height: 2rem;
    margin: 0;
  }
  .karma-manager .list-box {
    max-height: 20rem;
    overflow-y: auto;
    overflow-x: hidden;
  }
  .karma-manager .list-box .empty {
    text-align: center;
    color: #888;
    padding: 1rem;
    font-style: italic;
  }
  .combobox-container {
    position: relative;
    display: flex;
    flex-direction: row;
    flex: 1 1 0%;
    min-width: 0;
    width: 100%;
    box-sizing: border-box;
  }
  .combobox-wrapper {
    display: flex;
    flex: 1 1 0%;
    min-width: 0;
    width: 100%;
    max-width: 100%;
    overflow: hidden;
    position: relative;
    align-items: center;
    box-shadow: inset 0 0 1rem var(--highlight-color-primary);
    background: var(--highlight-color-primary);
    transition: box-shadow 0.3s ease;
    box-sizing: border-box;
    clip-path: polygon(0.5rem 0px, calc(100% - 0.75rem) 0px, 100% 0.75rem, 100% calc(100% - 0.75rem), calc(100% - 0.75rem) 100%, 0.5rem 100%, 0px calc(100% - 0.5rem), 0px 0.5rem);
  }
  .combobox-wrapper:focus-within {
    box-shadow: inset 0 0 1rem var(--highlight-color-primary);
  }
  .combobox-wrapper.disabled {
    background: var(--background-color);
    box-shadow: inset 0 0 15px grey;
    cursor: not-allowed;
  }
  .combobox-wrapper.disabled .combobox-icon {
    cursor: not-allowed;
  }
  .combobox-wrapper::before {
    content: "";
    position: absolute;
    inset: 1px;
    z-index: -1;
    background: var(--background-color);
    box-shadow: inset 0 0 30px #1d282c, inset 0 0 1.5rem var(--highlight-color-primary);
    pointer-events: none;
    clip-path: polygon(0.5rem 0px, calc(100% - 0.75rem) 0px, 100% 0.75rem, 100% calc(100% - 0.75rem), calc(100% - 0.75rem) 100%, 0.5rem 100%, 0px calc(100% - 0.5rem), 0px 0.5rem);
  }
  .combobox-input {
    flex: 1;
    min-width: 0;
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
    padding: 0rem 0.5rem;
    background: transparent;
    outline: none;
    cursor: text;
  }
  .combobox-input:disabled {
    cursor: not-allowed;
    color: var(--highlight-color-primary);
  }
  .combobox-input::placeholder {
    color: #9ca3af;
  }
  .combobox-icon {
    flex-shrink: 0;
    padding: 0.5rem 0.5rem;
    margin: 0.25rem;
    margin-left: auto;
    transition: transform 0.15s ease-in-out;
    cursor: none;
    text-shadow: 0px 0px 0.5rem var(--highlight-color-primary);
    text-shadow: 0px 0px 0.25rem var(--highlight-color-primary);
  }
  .combobox-icon.rotated {
    transform: rotate(10deg);
  }
  .combobox-dropdown {
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    z-index: 1000;
    margin-top: 2px;
    max-height: 200px;
    background: var(--highlight-color-primary);
    box-shadow: inset 0 0 1rem var(--highlight-color-primary);
    clip-path: polygon(0.5rem 0px, calc(100% - 0.75rem) 0px, 100% 0.75rem, 100% calc(100% - 0.75rem), calc(100% - 0.75rem) 100%, 0.5rem 100%, 0px calc(100% - 0.5rem), 0px 0.5rem);
  }
  .combobox-dropdown::before {
    content: "";
    position: absolute;
    inset: 1px;
    z-index: -1;
    background: var(--background-color);
    box-shadow: inset 0 0 30px #1d282c, inset 0 0 1.5rem var(--highlight-color-primary);
    pointer-events: none;
    clip-path: polygon(0.5rem 0px, calc(100% - 0.75rem) 0px, 100% 0.75rem, 100% calc(100% - 0.75rem), calc(100% - 0.75rem) 100%, 0.5rem 100%, 0px calc(100% - 0.5rem), 0px 0.5rem);
  }
  .combobox-dropdown > div {
    position: relative;
    overflow-y: auto;
    max-height: inherit;
  }
  .combobox-option {
    padding: 0.5rem 0.5rem;
    cursor: pointer;
    transition: box-shadow 0.25s ease-in-out;
  }
  .combobox-option:hover,
  .combobox-option.highlighted {
    box-shadow: inset 0 0 0.7rem var(--highlight-color-primary);
    transition: box-shadow 0.25s ease-in-out;
  }
  .combobox-option.selected {
    box-shadow: inset 0 0 1.7rem var(--highlight-color-primary);
    transition: box-shadow 0.25s ease-in-out;
  }
  .combobox-option.no-results {
    color: grey;
    cursor: default;
  }
  .combobox-option.no-results:hover {
    background-color: transparent;
  }
  .combobox-wrapper.table::before,
  .combobox-input.table::before,
  .combobox-wrapper.table,
  .combobox-input.table {
    clip-path: polygon(0.25rem 0px, calc(100% - 0.25rem) 0px, 100% 0.25rem, 100% calc(100% - 0.75rem), calc(100% - 0.75rem) 100%, 0.25rem 100%, 0px calc(100% - 0.25rem), 0px 0.25rem);
  }
  .ecg-container {
    position: relative;
    background-color: var(--highlight-color-primary);
    width: 100%;
    height: 3rem;
    border: 0rem;
    clip-path: polygon(0.25rem 0px, calc(100% - 0.25rem) 0px, 100% 0.25rem, 100% calc(100% - 0.25rem), calc(100% - 0.25rem) 100%, 0.25rem 100%, 0px calc(100% - 0.25rem), 0px 0.25rem);
  }
  .ecg-container::before {
    box-shadow: inset 0 0 12px var(--highlight-color-primary);
    pointer-events: none;
    content: "";
    position: absolute;
    top: 1px;
    left: 1px;
    width: calc(100% - 2px);
    height: calc(100% - 2px);
    clip-path: polygon(0.25rem 0px, calc(100% - 0.25rem) 0px, 100% 0.25rem, 100% calc(100% - 0.25rem), calc(100% - 0.25rem) 100%, 0.25rem 100%, 0px calc(100% - 0.25rem), 0px 0.25rem);
    z-index: -1;
    background: var(--background-color);
  }
  .ecg-container canvas {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }
  .ecg-container #ecg-canvas {
    z-index: 1;
  }
  .ecg-container #ecg-point-canvas {
    z-index: 2;
  }
  .ecg-animation {
    width: 100%;
    max-height: 5rem;
    border: 0;
  }
  .condition-monitor {
    display: flex;
    flex-direction: row;
    justify-content: space-between;
    padding: 0.5rem;
    flex-wrap: wrap;
    margin: 0;
    padding: 0;
  }
  .condition-monitor .condition-meter {
    min-height: 6rem;
    margin-top: 1rem;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    padding: 0.5rem;
    justify-content: center;
  }
  .condition-monitor .condition-meter .checkbox-label {
    min-width: 4rem;
  }
  @keyframes flicker {
    0% {
      text-shadow: 0 0 2px var(--highlight-color-primary), 0 0 10px var(--highlight-color-primary), 0 0 20px #fff;
      opacity: 0.8;
    }
    20% {
      text-shadow: none;
      opacity: 0.6;
    }
    40% {
      text-shadow: 0 0 2px var(--highlight-color-primary), 0 0 8px var(--highlight-color-primary), 0 0 15px #fff;
      opacity: 1;
    }
    60% {
      text-shadow: none;
      opacity: 0.4;
    }
    80% {
      text-shadow: 0 0 4px var(--highlight-color-primary), 0 0 12px var(--highlight-color-primary), 0 0 25px #fff;
      opacity: 1;
    }
    100% {
      text-shadow: 0 0 4px var(--highlight-color-primary), 0 0 12px var(--highlight-color-primary), 0 0 25px #fff;
      opacity: 1;
    }
  }
  .condition-monitor .condition-meter .lit {
    animation: flicker 1s ease-in-out;
    text-shadow: 0 0 12px var(--highlight-color-primary);
  }
  .condition-monitor .condition-meter .unlit {
    text-shadow: none;
    opacity: 0.2;
  }
  .condition-monitor .condition-meter .stun-damage,
  .condition-monitor .condition-meter .physical-damage {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    gap: 0.25rem;
    row-gap: 1rem;
    margin: 0;
    padding: 0;
  }
  .condition-monitor .condition-meter .stun-damage .damage-input,
  .condition-monitor .condition-meter .physical-damage .damage-input {
    position: relative;
    margin: 0;
    padding: 0;
    line-height: 1;
  }
  .condition-monitor .condition-meter .stun-damage .damage-input .damage-description,
  .condition-monitor .condition-meter .physical-damage .damage-input .damage-description {
    position: absolute;
    z-index: 5;
    left: 0;
  }
  .condition-monitor .condition-meter .stun-damage .damage-input .damage-description.stun,
  .condition-monitor .condition-meter .physical-damage .damage-input .damage-description.stun {
    top: -1.1rem;
  }
  .condition-monitor .condition-meter .stun-damage .damage-input .damage-description.physical,
  .condition-monitor .condition-meter .physical-damage .damage-input .damage-description.physical {
    bottom: -1rem;
  }
  .condition-monitor .health-card-container {
    display: inline-block;
  }
  .input-component-container {
    width: 100%;
    height: 2rem;
    position: relative;
    display: flex;
    align-items: center;
    background: var(--highlight-color-primary);
    padding: 0.25rem;
    min-width: 0;
    clip-path: polygon(0.5rem 0px, calc(100% - 0.5rem) 0px, 100% 0.5rem, 100% calc(100% - 0.5rem), calc(100% - 0.5rem) 100%, 0.5rem 100%, 0px calc(100% - 0.5rem), 0px 0.5rem);
  }
  .input-component-container .input-component-container-background {
    position: absolute;
    z-index: 0;
    top: 1px;
    left: 1px;
    width: calc(100% - 2px);
    height: calc(100% - 2px);
    background: #003856;
    box-shadow: inset 0 0 12px var(--highlight-color-primary);
    pointer-events: none;
    clip-path: polygon(0.5rem 0px, calc(100% - 0.5rem) 0px, 100% 0.5rem, 100% calc(100% - 0.5rem), calc(100% - 0.5rem) 100%, 0.5rem 100%, 0px calc(100% - 0.5rem), 0px 0.5rem);
  }
  .input-component-container .input-container-text {
    display: block;
    max-width: 12rem;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    flex-shrink: 1;
    flex-grow: 0;
    margin: 0rem 0rem 0rem 0.5rem;
    padding-right: 0.5rem;
    text-align: left;
    pointer-events: auto;
    position: relative;
    z-index: 1;
  }
  .input-component-container .input-container-text:focus {
    text-overflow: clip;
    outline: none;
  }
  .counter-component {
    display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: space-between;
    text-align: center;
    margin: 0;
    padding: 0;
    background: oklch(from var(--highlight-color-primary) l c h / 0.15);
    box-shadow: inset 0 0 1rem var(--highlight-color-primary);
    font-style: bold;
    font-size: 0.7rem;
    transition: transform 0.2s ease, box-shadow 0.4s ease;
    clip-path: polygon(0.25rem 0px, calc(100% - 0.25rem) 0px, 100% 0.25rem, 100% calc(100% - 0.5rem), calc(100% - 0.5rem) 100%, 0.25rem 100%, 0px calc(100% - 0.25rem), 0px 0.25rem);
  }
  .counter-component:hover {
    transform: scale(1.025);
  }
  .counter-component:focus {
    background-color: lime;
    outline: none;
    animation: pulses 3s ease-in-out infinite;
  }
  .counter-component .counter-value {
    font-size: 2rem;
    margin: 0rem 0.5rem 0rem 0.5rem;
    outline: none;
  }
  .roll-composer-container button {
    background: transparent;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 30%;
    margin: 0.25rem;
    padding: 0.5rem;
    box-shadow: inset 0 0 0.5rem var(--highlight-color-primary);
    transition: transform 0.2s ease, box-shadow 0.7s ease;
    clip-path: polygon(0.25rem 0px, calc(100% - 0.25rem) 0px, 100% 0.25rem, 100% calc(100% - 0.5rem), calc(100% - 0.5rem) 100%, 0.25rem 100%, 0px calc(100% - 0.25rem), 0px 0.25rem);
  }
  .roll-composer-container button.regular {
    width: 100%;
    font-size: 1rem;
    margin: 0;
  }
  .roll-composer-container button::after {
    content: "";
    z-index: -1;
    color: var(--highlight-color-primary);
    position: absolute;
    background: transparent;
    top: 1px;
    left: 1px;
    width: calc(100% - 2px);
    height: calc(100% - 2px);
    pointer-events: none;
    box-shadow: inset 0 0 10px var(--highlight-color-primary);
    transition: box-shadow 0.3s ease;
    clip-path: polygon(0.25rem 0px, calc(100% - 0.25rem) 0px, 100% 0.25rem, 100% calc(100% - 0.25rem), calc(100% - 0.25rem) 100%, 0.25rem 100%, 0px calc(100% - 0.25rem), 0px 0.25rem);
  }
  .roll-composer-container button:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    box-shadow: inset 0 0 0.5rem grey;
  }
  .roll-composer-container button:disabled::after {
    box-shadow: inset 0 0 10px grey;
  }
  .roll-composer-container button:disabled:hover,
  .roll-composer-container button:disabled:focus,
  .roll-composer-container button:disabled:active {
    box-shadow: inset 0 0 0.5rem grey;
  }
  .roll-composer-container button:disabled:hover::after,
  .roll-composer-container button:disabled:focus::after,
  .roll-composer-container button:disabled:active::after {
    box-shadow: inset 0 0 10px grey;
  }
  .roll-composer-container button:hover {
    background: transparent;
  }
  .roll-composer-container button:hover::after {
    transition: background-color 0.5s ease;
    box-shadow: inset 0 0 15px var(--highlight-color-primary), inset 0 0 5px var(--highlight-color-primary);
  }
  .roll-composer-container button:focus {
    outline: none;
    background: red;
  }
  .roll-composer-container button:active {
    background: transparent;
  }
  .roll-composer-container button:active::after {
    position: absolute;
    box-shadow: inset 0 0 15px var(--highlight-color-primary);
  }
  .roll-composer-container button:active .fa-solid {
    margin: 0;
  }
  .roll-composer-container button:active:active {
    transform: scale(0.9);
  }
  @keyframes pulses {
    0% {
      box-shadow: inset 0 0 0.5rem var(--highlight-color-primary), 0 0 0.5rem var(--highlight-color-primary);
    }
    50% {
      box-shadow: inset 0 0 1.5rem var(--highlight-color-primary), 0 0 3rem var(--highlight-color-primary);
    }
    100% {
      box-shadow: inset 0 0 0.5rem var(--highlight-color-primary), 0 0 0.5rem var(--highlight-color-primary);
    }
  }
  .sr3e.sheet.character {
    overflow: visible !important;
  }
  .sr3e.sheet.character .neon-name-position {
    position: absolute;
    top: -5.3rem;
    left: 1rem;
    z-index: 100;
  }
  .sr3e.sheet.character .neon-name-position .neon-name {
    display: flex;
    justify-content: center;
    align-items: center;
    /* Add more as needed or loop dynamically with LESS/SASS */
  }
  .sr3e.sheet.character .neon-name-position .neon-name .neon-name-text {
    font-family: 'Neonderthaw', serif !important;
    font-size: 5rem;
    color: #ff2090;
    text-shadow: 0 0 10px blueviolet, 0 0 20px #ff0033, 0 0 40px blue;
    animation: glow 1.5s infinite alternate;
  }
  .sr3e.sheet.character .neon-name-position .neon-name .malfunc {
    color: #ff2090;
    text-shadow: 0 0 10px blueviolet, 0 0 20px #ff0033, 0 0 40px blue;
    animation: flicker 3.5s infinite alternate;
  }
  .sr3e.sheet.character .neon-name-position .neon-name .malfunc:nth-child(2) {
    animation-delay: 0s;
  }
  .sr3e.sheet.character .neon-name-position .neon-name .malfunc:nth-child(4) {
    animation-delay: 0.3s;
  }
  .sr3e.sheet.character .neon-name-position .neon-name .malfunc:nth-child(7) {
    animation-delay: 0.7s;
  }
  .sr3e.sheet.character .neon-name-position .neon-name .malfunc:nth-child(10) {
    animation-delay: 1.2s;
  }
  .sr3e.sheet.character .neon-name-position .neon-name .malfunc:nth-child(14) {
    animation-delay: 1.8s;
  }
  .sr3e.sheet.character .neon-name-position .neon-name .malfunc:nth-child(21) {
    animation-delay: 1.8s;
  }
  @keyframes glow {
    from {
      opacity: 0.8;
    }
    to {
      opacity: 1;
    }
  }
  @keyframes flicker {
    0% {
      opacity: 0.2;
    }
    2.5% {
      opacity: 1;
    }
    5% {
      opacity: 0.5;
    }
    7.5% {
      opacity: 0.7;
    }
    10% {
      opacity: 1;
    }
    12.5% {
      opacity: 1;
    }
    15% {
      opacity: 1;
    }
    17.5% {
      opacity: 1;
    }
    20% {
      opacity: 1;
    }
    22.5% {
      opacity: 0.2;
    }
    25% {
      opacity: 0.2;
    }
    27.5% {
      opacity: 0.2;
    }
    30% {
      opacity: 0.2;
    }
    32.5% {
      opacity: 0.2;
    }
    35% {
      opacity: 0.2;
    }
    37.5% {
      opacity: 0.2;
    }
    40% {
      opacity: 0.2;
    }
    42.5% {
      opacity: 0.2;
    }
    45% {
      opacity: 0.5;
    }
    47.5% {
      opacity: 0.2;
    }
    50% {
      opacity: 0.2;
    }
    52.5% {
      opacity: 1;
    }
    55% {
      opacity: 1;
    }
    57.5% {
      opacity: 0.8;
    }
    60% {
      opacity: 0.5;
    }
    62.5% {
      opacity: 0.7;
    }
    65% {
      opacity: 1;
    }
    67.5% {
      opacity: 1;
    }
    70% {
      opacity: 1;
    }
    72.5% {
      opacity: 0.8;
    }
    75% {
      opacity: 0.5;
    }
    77.5% {
      opacity: 0.7;
    }
    80% {
      opacity: 1;
    }
    82.5% {
      opacity: 1;
    }
    85% {
      opacity: 1;
    }
    87.5% {
      opacity: 1;
    }
    90% {
      opacity: 1;
    }
    92.5% {
      opacity: 1;
    }
    95% {
      opacity: 1;
    }
    97.5% {
      opacity: 0.25;
    }
    100% {
      opacity: 0.2;
    }
  }
  @keyframes marquee-move {
    from {
      transform: translateX(calc(var(--ticker-width) * 1.5));
    }
    to {
      transform: translateX(calc(-1 * var(--marquee-width)));
    }
  }
  .window-header.sr3e-actor-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 0.5rem;
    padding: 0 0.5rem;
    overflow: hidden;
    position: relative;
  }
  .window-header.sr3e-actor-header .ticker {
    display: flex;
    align-items: center;
    flex: 1 1 auto;
    min-width: 0;
    gap: 0;
    height: 100%;
    overflow: hidden;
  }
  .window-header.sr3e-actor-header .ticker .left-gradient,
  .window-header.sr3e-actor-header .ticker .right-gradient {
    height: 100%;
    min-width: 0.5rem;
    max-width: 1rem;
    flex: 0 0 1rem;
  }
  .window-header.sr3e-actor-header .ticker .left-gradient {
    background: linear-gradient(to left, #ff2090 0%, rgba(255, 255, 255, 0) 50%, rgba(255, 255, 255, 0) 100%);
  }
  .window-header.sr3e-actor-header .ticker .right-gradient {
    background: linear-gradient(to right, #ff2090 0%, rgba(255, 255, 255, 0) 50%, rgba(255, 255, 255, 0) 100%);
  }
  .window-header.sr3e-actor-header .ticker .marquee-outer {
    height: 100%;
    overflow: hidden;
    position: relative;
    flex: 1 1 auto;
    white-space: nowrap;
    display: flex;
    align-items: center;
    text-align: center;
    backdrop-filter: blur(8px);
  }
  .window-header.sr3e-actor-header .ticker .marquee-outer::before,
  .window-header.sr3e-actor-header .ticker .marquee-outer::after {
    content: "";
    position: absolute;
    top: 0;
    bottom: 0;
    width: 50%;
    pointer-events: none;
    z-index: 3;
  }
  .window-header.sr3e-actor-header .ticker .marquee-outer::before {
    left: 0;
    background: linear-gradient(to right, #ff2090 0%, rgba(0, 255, 255, 0.5) 25%, rgba(0, 255, 255, 0.2) 50%, rgba(255, 255, 255, 0) 100%);
  }
  .window-header.sr3e-actor-header .ticker .marquee-outer::after {
    right: 0;
    background: linear-gradient(to left, #ff2090 0%, rgba(0, 255, 255, 0.5) 25%, rgba(0, 255, 255, 0.2) 50%, rgba(255, 255, 255, 0) 100%);
  }
  .window-header.sr3e-actor-header .ticker .marquee-outer .marquee-inner {
    display: inline-flex;
    white-space: nowrap;
    animation: marquee-move var(--marquee-duration) linear infinite;
    animation-delay: var(--marquee-delay);
    line-height: 0;
    margin: 0;
    text-shadow: 0 0 3px oklch(0% 0 0 / 0.35), 0 0 6px oklch(0% 0 0 / 0.25);
    will-change: transform;
  }
  .window-header.sr3e-actor-header .ticker .marquee-outer .marquee-inner span {
    font-size: 1.5rem;
  }
  .window-header.sr3e-actor-header .ticker .marquee-item {
    display: inline-block;
    padding: 0 2rem;
    line-height: 1;
    white-space: nowrap;
    flex-shrink: 0;
  }
  .window-header.sr3e-actor-header .window-icon,
  .window-header.sr3e-actor-header .shopping-cart-slot,
  .window-header.sr3e-actor-header .header-control {
    flex: 0 0 auto;
    z-index: 2;
    display: flex;
    align-items: center;
    /* Remove any extra margin or gap for snug fit */
    margin-left: 0;
    gap: 0;
    font-size: 1rem;
  }
  .window-header.sr3e-actor-header .shopping-cart-slot {
    display: flex;
    margin-left: 0;
    gap: 0.15rem;
  }
  .window-header.sr3e-actor-header .header-control {
    margin-left: 0.15rem;
  }
  .window-header.sr3e-actor-header .header-control:first-of-type {
    margin-left: 0;
  }
  .roll-composer-container {
    transform: translateZ(0);
    display: flex;
    flex-direction: column;
    background: oklch(from #005656 l c h / 0.75);
    backdrop-filter: blur(10px);
    height: auto;
    width: 10rem;
    min-height: 5rem;
    left: -10.5rem;
    top: 0rem;
    position: absolute;
    transition: width 0.3s ease;
    padding: 0.5rem;
    gap: 0.25rem;
    clip-path: polygon(0.5rem 0px, calc(100% - 0.5rem) 0px, 100% 0.5rem, 100% calc(100% - 0.75rem), calc(100% - 0.75rem) 100%, 0.5rem 100%, 0px calc(100% - 0.5rem), 0px 0.5rem);
    box-shadow: inset 0 0 1rem var(--highlight-color-primary);
  }
  .roll-composer-container.collapsed {
    width: 0;
  }
  .roll-composer-container h1,
  .roll-composer-container h2,
  .roll-composer-container h3,
  .roll-composer-container h4,
  .roll-composer-container h5,
  .roll-composer-container h6 {
    margin-bottom: 0.25rem;
    margin-top: 0.25rem;
  }
  .roll-composer-container select.roll-type-select,
  .roll-composer-container select {
    appearance: none;
    text-indent: 0.5rem;
    background: transparent !important;
    color: var(--highlight-color-primary);
    width: 100%;
    border: none;
    border-radius: 0rem !important;
    box-shadow: inset 0 0 1rem var(--highlight-color-primary);
    margin: 0 !important;
    clip-path: polygon(0.25rem 0px, calc(100% - 0.25rem) 0px, 100% 0.25rem, 100% calc(100% - 0.5rem), calc(100% - 0.5rem) 100%, 0.25rem 100%, 0px calc(100% - 0.25rem), 0px 0.25rem);
  }
  .roll-composer-container optgroup {
    background-color: lime;
  }
  .roll-composer-container option {
    text-indent: 0.5rem;
    background-color: blue;
    border-radius: 0rem;
    border: none;
    clip-path: polygon(0.25rem 0px, calc(100% - 0.25rem) 0px, 100% 0.25rem, 100% calc(100% - 0.25rem), calc(100% - 0.25rem) 100%, 0.25rem 100%, 0px calc(100% - 0.25rem), 0px 0.25rem);
  }
  .roll-composer-container select option {
    background: black !important;
    box-shadow: inset 0 0 1rem var(--highlight-color-primary) !important;
    color: var(--highlight-color-primary);
    clip-path: polygon(0.25rem 0px, calc(100% - 0.25rem) 0px, 100% 0.25rem, 100% calc(100% - 0.25rem), calc(100% - 0.25rem) 100%, 0.25rem 100%, 0px calc(100% - 0.25rem), 0px 0.25rem);
  }
  .roll-composer-card {
    display: flex;
    flex-direction: column;
    padding: 0.25rem;
    box-shadow: inset 0 0 1rem var(--highlight-color-primary);
    clip-path: polygon(0.25rem 0px, calc(100% - 0.25rem) 0px, 100% 0.25rem, 100% calc(100% - 0.5rem), calc(100% - 0.5rem) 100%, 0.2rem 100%, 0px calc(100% - 0.2rem), 0px 0.25rem);
  }
  .roll-composer-container,
  .roll-composer-container * {
    text-shadow: 0 0 3px oklch(0% 0 0 / 0.35), 0 0 6px oklch(0% 0 0 / 0.25);
  }
  form#prototype-token-overrides.application,
  form#dice-config.application,
  form#font-config.application,
  form#av-config.application,
  form#ui-config.application {
    padding: 0.5rem;
    background: radial-gradient(ellipse at center, rgba(0, 0, 0, 0.4) 0%, rgba(0, 0, 0, 0) 90%), linear-gradient(to right, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.4) 30%, rgba(0, 0, 0, 0.4) 70%, rgba(0, 0, 0, 0) 100%), url("../../../textures/metal.jpg"), linear-gradient(to right, #444, #222);
    background-blend-mode: multiply, multiply, overlay;
    background-repeat: repeat;
    background-size: 200;
    box-shadow: inset 0 0 30px #1d282c;
    clip-path: polygon(0.5rem 0px, calc(100% - 0.5rem) 0px, 100% 0.5rem, 100% calc(100% - 0.75rem), calc(100% - 0.75rem) 100%, 0.5rem 100%, 0px calc(100% - 0.5rem), 0px 0.5rem);
  }
  input[type="range"] {
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
    width: 100%;
    height: 1rem;
    background: none;
    cursor: pointer;
  }
  input[type="range"]::-webkit-slider-runnable-track {
    -webkit-appearance: none;
    height: 1rem;
    background: #1b1f24;
    box-shadow: inset 0 0 0.5rem var(--highlight-color-primary);
    border: none;
    border-radius: 0;
    transition: background 0.2s;
    margin: 0.25px;
    padding: 0;
    clip-path: polygon(0.25rem 0px, calc(100% - 0.25rem) 0px, 100% 0.25rem, 100% calc(100% - 0.25rem), calc(100% - 0.25rem) 100%, 0.25rem 100%, 0px calc(100% - 0.25rem), 0px 0.25rem);
  }
  input[type="range"]::-webkit-slider-thumb {
    -webkit-appearance: none;
    border: none;
    margin: 0;
    padding: 0;
    height: 1rem;
    width: 1.5rem;
    box-shadow: inset 0 0 1rem var(--highlight-color-primary);
    background: #1b1f24;
    cursor: pointer;
    transition: background 0.2s, transform 0.1s;
    /* Center the thumb vertically if needed */
    margin-top: calc((1rem - 1rem) / 2);
    clip-path: polygon(0.25rem 0px, calc(100% - 0.25rem) 0px, 100% 0.25rem, 100% calc(100% - 0.25rem), calc(100% - 0.25rem) 100%, 0.25rem 100%, 0px calc(100% - 0.25rem), 0px 0.25rem);
  }
  input[type="range"]:hover::-webkit-slider-runnable-track,
  input[type="range"]::-webkit-slider-runnable-track:hover {
    box-shadow: inset 0 0 0.75rem var(--highlight-color-primary);
    background: #1b1f24;
  }
  input[type="range"]:hover::-webkit-slider-thumb,
  input[type="range"]::-webkit-slider-thumb:hover {
    border: none;
  }
  input[type="range"]:active::-webkit-slider-thumb,
  input[type="range"]:focus::-webkit-slider-thumb,
  input[type="range"]:active::-webkit-slider-thumb:active,
  input[type="range"]:focus::-webkit-slider-thumb:active,
  input[type="range"]:active::-webkit-slider-thumb:focus,
  input[type="range"]:focus::-webkit-slider-thumb:focus {
    -webkit-appearance: none;
    box-shadow: inset 0 0 1rem var(--highlight-color-primary);
    background: #1b1f24;
    margin-top: calc((1rem - 1rem) / 2);
    transform: scale(1.05);
  }
  input[type="range"]:active::-webkit-slider-runnable-track,
  input[type="range"]:focus::-webkit-slider-runnable-track,
  input[type="range"]:active::-webkit-slider-runnable-track:active,
  input[type="range"]:focus::-webkit-slider-runnable-track:active,
  input[type="range"]:active::-webkit-slider-runnable-track:focus,
  input[type="range"]:focus::-webkit-slider-runnable-track:focus {
    box-shadow: inset 0 0 0.75rem var(--highlight-color-primary);
    background: #1b1f24;
  }
  input[type="range"]::-moz-range-track {
    height: 1rem;
    background: #1b1f24;
    box-shadow: inset 0 0 0.5rem var(--highlight-color-primary);
    border: none;
    border-radius: 0;
    transition: background 0.2s;
    margin: 0.25px;
    padding: 0;
    clip-path: polygon(0.25rem 0px, calc(100% - 0.25rem) 0px, 100% 0.25rem, 100% calc(100% - 0.25rem), calc(100% - 0.25rem) 100%, 0.25rem 100%, 0px calc(100% - 0.25rem), 0px 0.25rem);
  }
  input[type="range"]::-moz-range-thumb {
    border: none;
    margin: 0;
    padding: 0;
    height: 1rem;
    width: 1.5rem;
    box-shadow: inset 0 0 1rem var(--highlight-color-primary);
    background: #1b1f24;
    cursor: pointer;
    transition: background 0.2s, transform 0.1s;
    clip-path: polygon(0.25rem 0px, calc(100% - 0.25rem) 0px, 100% 0.25rem, 100% calc(100% - 0.25rem), calc(100% - 0.25rem) 100%, 0.25rem 100%, 0px calc(100% - 0.25rem), 0px 0.25rem);
  }
  input[type="range"]:hover::-moz-range-track,
  input[type="range"]:hover::-moz-range-track:hover {
    box-shadow: inset 0 0 0.75rem var(--highlight-color-primary);
    background: #1b1f24;
  }
  input[type="range"]:active::-moz-range-thumb,
  input[type="range"]:focus::-moz-range-thumb,
  input[type="range"]:active::-moz-range-thumb:active,
  input[type="range"]:focus::-moz-range-thumb:active,
  input[type="range"]:active::-moz-range-thumb:focus,
  input[type="range"]:focus::-moz-range-thumb:focus {
    box-shadow: inset 0 0 1rem var(--highlight-color-primary);
    background: #1b1f24;
    transform: scale(1.05);
  }
  input[type="range"]:active::-moz-range-track,
  input[type="range"]:focus::-moz-range-track,
  input[type="range"]:active::-moz-range-track:active,
  input[type="range"]:focus::-moz-range-track:active,
  input[type="range"]:active::-moz-range-track:focus,
  input[type="range"]:focus::-moz-range-track:focus {
    box-shadow: inset 0 0 0.75rem var(--highlight-color-primary);
    background: #1b1f24;
  }
  input[type="range"]::-ms-track {
    width: 100%;
    height: 1rem;
    background: transparent;
    border-color: transparent;
    color: transparent;
  }
  input[type="range"]::-ms-fill-lower,
  input[type="range"]::-ms-fill-upper {
    background: #1b1f24;
    box-shadow: inset 0 0 0.5rem var(--highlight-color-primary);
    border: none;
    border-radius: 0;
    margin: 0.25px;
    clip-path: polygon(0.25rem 0px, calc(100% - 0.25rem) 0px, 100% 0.25rem, 100% calc(100% - 0.25rem), calc(100% - 0.25rem) 100%, 0.25rem 100%, 0px calc(100% - 0.25rem), 0px 0.25rem);
  }
  input[type="range"]::-ms-thumb {
    border: none;
    margin: 0;
    padding: 0;
    height: 1rem;
    width: 1.5rem;
    box-shadow: inset 0 0 1rem var(--highlight-color-primary);
    background: #1b1f24;
    cursor: pointer;
    transition: background 0.2s, transform 0.1s;
    clip-path: polygon(0.25rem 0px, calc(100% - 0.25rem) 0px, 100% 0.25rem, 100% calc(100% - 0.25rem), calc(100% - 0.25rem) 100%, 0.25rem 100%, 0px calc(100% - 0.25rem), 0px 0.25rem);
  }
  input[type="range"]:hover::-ms-fill-lower,
  input[type="range"]:hover::-ms-fill-upper {
    box-shadow: inset 0 0 0.75rem var(--highlight-color-primary);
    background: #1b1f24;
  }
  input[type="range"]:active::-ms-thumb,
  input[type="range"]:focus::-ms-thumb,
  input[type="range"]:active::-ms-thumb:active,
  input[type="range"]:focus::-ms-thumb:active,
  input[type="range"]:active::-ms-thumb:focus,
  input[type="range"]:focus::-ms-thumb:focus {
    box-shadow: inset 0 0 1rem var(--highlight-color-primary);
    background: #1b1f24;
    transform: scale(1.05);
  }
  * {
    border: none;
  }
  .application {
    background: none;
    box-shadow: none;
    border: none;
    backdrop-filter: blur(2px);
  }
  .window-content,
  .window-content.standard-form {
    display: flex;
    padding: 0;
    margin: 0;
  }
  #sr3e-character-sheet > .window-content {
    background: linear-gradient(to right, transparent 0%, rgba(0, 255, 255, 0.1) 20%, rgba(0, 255, 255, 0.1) 80%, transparent 100%), radial-gradient(ellipse 50% 5% at 50% 100%, rgba(0, 255, 255, 0.8) 0%, transparent 100%), radial-gradient(ellipse 50% 5% at 50% 0%, rgba(0, 255, 255, 0.8) 0%, transparent 100%) !important;
    border: none;
    background-image: none;
  }
  .window-resize-handle {
    position: absolute;
    bottom: 0;
    right: 0;
    z-index: 9999;
    pointer-events: auto;
  }
  .editable-name:focus {
    outline: none;
  }
  dialog .stat-grid,
  form .stat-grid,
  div#support-details .stat-grid,
  div#invitation-links .stat-grid,
  .sr3e.active-effects-editor .stat-grid,
  .application.category-browser .stat-grid,
  .sr3e.sheet.item .stat-grid,
  .sr3e.sheet.character .stat-grid {
    display: inline-grid;
    gap: 0.25rem;
    margin-top: 0.25rem;
    width: 100%;
    grid-template-columns: repeat(3, calc(33.333% - 0.167rem));
  }
  dialog .stat-grid.single-column,
  form .stat-grid.single-column,
  div#support-details .stat-grid.single-column,
  div#invitation-links .stat-grid.single-column,
  .sr3e.active-effects-editor .stat-grid.single-column,
  .application.category-browser .stat-grid.single-column,
  .sr3e.sheet.item .stat-grid.single-column,
  .sr3e.sheet.character .stat-grid.single-column {
    grid-template-columns: 100%;
    margin-bottom: 0.25rem;
  }
  dialog .stat-grid.two-column,
  form .stat-grid.two-column,
  div#support-details .stat-grid.two-column,
  div#invitation-links .stat-grid.two-column,
  .sr3e.active-effects-editor .stat-grid.two-column,
  .application.category-browser .stat-grid.two-column,
  .sr3e.sheet.item .stat-grid.two-column,
  .sr3e.sheet.character .stat-grid.two-column {
    grid-template-columns: repeat(2, calc(50% - 0.125rem));
  }
  dialog .stat-grid.three-column,
  form .stat-grid.three-column,
  div#support-details .stat-grid.three-column,
  div#invitation-links .stat-grid.three-column,
  .sr3e.active-effects-editor .stat-grid.three-column,
  .application.category-browser .stat-grid.three-column,
  .sr3e.sheet.item .stat-grid.three-column,
  .sr3e.sheet.character .stat-grid.three-column {
    grid-template-columns: repeat(3, calc(33.333% - 0.167rem));
  }
  dialog .details-foldout,
  form .details-foldout,
  div#support-details .details-foldout,
  div#invitation-links .details-foldout,
  .sr3e.active-effects-editor .details-foldout,
  .application.category-browser .details-foldout,
  .sr3e.sheet.item .details-foldout,
  .sr3e.sheet.character .details-foldout {
    margin-top: 0.5rem;
    margin-bottom: 1rem;
    font-size: 1.2rem;
    text-shadow: 0 0 10px --h2-color;
  }
  dialog .sr3e-inner-background-container,
  form .sr3e-inner-background-container,
  div#support-details .sr3e-inner-background-container,
  div#invitation-links .sr3e-inner-background-container,
  .sr3e.active-effects-editor .sr3e-inner-background-container,
  .application.category-browser .sr3e-inner-background-container,
  .sr3e.sheet.item .sr3e-inner-background-container,
  .sr3e.sheet.character .sr3e-inner-background-container {
    position: relative;
    width: 100%;
    height: 100%;
    padding: 0.5rem;
  }
  dialog .sr3e-inner-background-container.slim,
  form .sr3e-inner-background-container.slim,
  div#support-details .sr3e-inner-background-container.slim,
  div#invitation-links .sr3e-inner-background-container.slim,
  .sr3e.active-effects-editor .sr3e-inner-background-container.slim,
  .application.category-browser .sr3e-inner-background-container.slim,
  .sr3e.sheet.item .sr3e-inner-background-container.slim,
  .sr3e.sheet.character .sr3e-inner-background-container.slim {
    width: auto;
    display: inline-block;
    flex: 0 1 auto;
    white-space: nowrap;
  }
  dialog .sr3e-inner-background-container .sr3e-inner-background,
  form .sr3e-inner-background-container .sr3e-inner-background,
  div#support-details .sr3e-inner-background-container .sr3e-inner-background,
  div#invitation-links .sr3e-inner-background-container .sr3e-inner-background,
  .sr3e.active-effects-editor .sr3e-inner-background-container .sr3e-inner-background,
  .application.category-browser .sr3e-inner-background-container .sr3e-inner-background,
  .sr3e.sheet.item .sr3e-inner-background-container .sr3e-inner-background,
  .sr3e.sheet.character .sr3e-inner-background-container .sr3e-inner-background {
    position: relative;
    width: 100%;
    height: 100%;
    padding: 0.5rem;
    z-index: 10;
    min-height: 3rem;
  }
  dialog .sr3e-inner-background-container .sr3e-inner-background .header-icon,
  form .sr3e-inner-background-container .sr3e-inner-background .header-icon,
  div#support-details .sr3e-inner-background-container .sr3e-inner-background .header-icon,
  div#invitation-links .sr3e-inner-background-container .sr3e-inner-background .header-icon,
  .sr3e.active-effects-editor .sr3e-inner-background-container .sr3e-inner-background .header-icon,
  .application.category-browser .sr3e-inner-background-container .sr3e-inner-background .header-icon,
  .sr3e.sheet.item .sr3e-inner-background-container .sr3e-inner-background .header-icon,
  .sr3e.sheet.character .sr3e-inner-background-container .sr3e-inner-background .header-icon {
    justify-content: center;
  }
  dialog .sr3e-inner-background-container .sr3e-inner-background.slim,
  form .sr3e-inner-background-container .sr3e-inner-background.slim,
  div#support-details .sr3e-inner-background-container .sr3e-inner-background.slim,
  div#invitation-links .sr3e-inner-background-container .sr3e-inner-background.slim,
  .sr3e.active-effects-editor .sr3e-inner-background-container .sr3e-inner-background.slim,
  .application.category-browser .sr3e-inner-background-container .sr3e-inner-background.slim,
  .sr3e.sheet.item .sr3e-inner-background-container .sr3e-inner-background.slim,
  .sr3e.sheet.character .sr3e-inner-background-container .sr3e-inner-background.slim {
    width: auto;
    display: inline-block;
    flex: 0 1 auto;
    white-space: nowrap;
  }
  dialog label,
  form label,
  div#support-details label,
  div#invitation-links label,
  .sr3e.active-effects-editor label,
  .application.category-browser label,
  .sr3e.sheet.item label,
  .sr3e.sheet.character label {
    color: var(--h1-color);
    text-transform: uppercase;
    text-shadow: 0 0 10px var(--h1-color);
    padding: 1rem;
  }
  dialog a,
  form a,
  div#support-details a,
  div#invitation-links a,
  .sr3e.active-effects-editor a,
  .application.category-browser a,
  .sr3e.sheet.item a,
  .sr3e.sheet.character a {
    text-decoration: none;
  }
  dialog .fake-shadow,
  form .fake-shadow,
  div#support-details .fake-shadow,
  div#invitation-links .fake-shadow,
  .sr3e.active-effects-editor .fake-shadow,
  .application.category-browser .fake-shadow,
  .sr3e.sheet.item .fake-shadow,
  .sr3e.sheet.character .fake-shadow {
    position: absolute;
    top: 1.5rem;
    left: 1.5rem;
    background-color: #ff2090;
    width: calc(100% - 1.5rem);
    height: calc(100% - 1.5rem);
    z-index: -2;
    filter: blur(20px);
    clip-path: polygon(0.5rem 0px, calc(100% - 0.5rem) 0px, 100% 0.5rem, 100% calc(100% - 1.4142rem), calc(100% - 1.4142rem) 100%, 0.5rem 100%, 0px calc(100% - 0.5rem), 0px 0.5rem);
  }
  dialog .sr3e-inner-background,
  form .sr3e-inner-background,
  div#support-details .sr3e-inner-background,
  div#invitation-links .sr3e-inner-background,
  .sr3e.active-effects-editor .sr3e-inner-background,
  .application.category-browser .sr3e-inner-background,
  .sr3e.sheet.item .sr3e-inner-background,
  .sr3e.sheet.character .sr3e-inner-background {
    position: relative;
    z-index: 0;
    background: #ff2090;
    padding: 0.5rem;
    clip-path: polygon(0.5rem 0px, calc(100% - 0.5rem) 0px, 100% 0.5rem, 100% calc(100% - 1rem), calc(100% - 1rem) 100%, 0.5rem 100%, 0px calc(100% - 0.5rem), 0px 0.5rem);
  }
  dialog .sr3e-inner-background::before,
  form .sr3e-inner-background::before,
  div#support-details .sr3e-inner-background::before,
  div#invitation-links .sr3e-inner-background::before,
  .sr3e.active-effects-editor .sr3e-inner-background::before,
  .application.category-browser .sr3e-inner-background::before,
  .sr3e.sheet.item .sr3e-inner-background::before,
  .sr3e.sheet.character .sr3e-inner-background::before {
    content: "";
    position: absolute;
    inset: 1px;
    z-index: -1;
    pointer-events: none;
    background: var(--background-with-image);
    background-blend-mode: multiply, multiply, overlay;
    background-repeat: repeat;
    background-size: 200;
    box-shadow: inset 0 0 30px #1d282c;
    clip-path: polygon(0.5rem 0px, calc(100% - 0.5rem) 0px, 100% 0.5rem, 100% calc(100% - 1rem), calc(100% - 1rem) 100%, 0.5rem 100%, 0px calc(100% - 0.5rem), 0px 0.5rem);
  }
  dialog .stat-card,
  form .stat-card,
  div#support-details .stat-card,
  div#invitation-links .stat-card,
  .sr3e.active-effects-editor .stat-card,
  .application.category-browser .stat-card,
  .sr3e.sheet.item .stat-card,
  .sr3e.sheet.character .stat-card {
    display: inline-flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    position: relative;
    background: var(--highlight-color-secondary);
    transition: transform 1s ease, background-color 0.3s ease;
    text-align: center;
    padding: 0.25rem 0.25rem 0.25rem 0.25rem;
    z-index: 1;
    clip-path: polygon(0.427rem 0px, calc(100% - 0.427rem) 0px, 100% 0.427rem, 100% calc(100% - 0.854rem), calc(100% - 0.854rem) 100%, 0.427rem 100%, 0px calc(100% - 0.427rem), 0px 0.427rem);
  }
  dialog .stat-card.alert-animation,
  form .stat-card.alert-animation,
  div#support-details .stat-card.alert-animation,
  div#invitation-links .stat-card.alert-animation,
  .sr3e.active-effects-editor .stat-card.alert-animation,
  .application.category-browser .stat-card.alert-animation,
  .sr3e.sheet.item .stat-card.alert-animation,
  .sr3e.sheet.character .stat-card.alert-animation {
    background-image: linear-gradient(135deg, var(--highlight-color-secondary) 0%, var(--highlight-color-secondary) 45%, rgba(255, 255, 255, 0.85) 50%, var(--highlight-color-secondary) 55%, var(--highlight-color-secondary) 100%);
    background-size: 200% 200%;
    animation: background-sheen 2s linear infinite;
  }
  @keyframes background-sheen {
    0% {
      background-position: -100% -100%;
    }
    100% {
      background-position: 100% 100%;
    }
  }
  dialog .stat-card.character,
  form .stat-card.character,
  div#support-details .stat-card.character,
  div#invitation-links .stat-card.character,
  .sr3e.active-effects-editor .stat-card.character,
  .application.category-browser .stat-card.character,
  .sr3e.sheet.item .stat-card.character,
  .sr3e.sheet.character .stat-card.character {
    background: var(--highlight-color-primary);
  }
  dialog .stat-card select.roll-type-select,
  form .stat-card select.roll-type-select,
  div#support-details .stat-card select.roll-type-select,
  div#invitation-links .stat-card select.roll-type-select,
  .sr3e.active-effects-editor .stat-card select.roll-type-select,
  .application.category-browser .stat-card select.roll-type-select,
  .sr3e.sheet.item .stat-card select.roll-type-select,
  .sr3e.sheet.character .stat-card select.roll-type-select,
  dialog .stat-card select,
  form .stat-card select,
  div#support-details .stat-card select,
  div#invitation-links .stat-card select,
  .sr3e.active-effects-editor .stat-card select,
  .application.category-browser .stat-card select,
  .sr3e.sheet.item .stat-card select,
  .sr3e.sheet.character .stat-card select {
    clip-path: polygon(0.25rem 0px, calc(100% - 0.25rem) 0px, 100% 0.25rem, 100% calc(100% - 0.75rem), calc(100% - 0.75rem) 100%, 0.25rem 100%, 0px calc(100% - 0.25rem), 0px 0.25rem);
  }
  dialog .stat-card .no-margin,
  form .stat-card .no-margin,
  div#support-details .stat-card .no-margin,
  div#invitation-links .stat-card .no-margin,
  .sr3e.active-effects-editor .stat-card .no-margin,
  .application.category-browser .stat-card .no-margin,
  .sr3e.sheet.item .stat-card .no-margin,
  .sr3e.sheet.character .stat-card .no-margin {
    width: calc(100% + 0.5rem);
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    padding: 0.25rem;
    margin: 0;
  }
  dialog .stat-card .stat-value,
  form .stat-card .stat-value,
  div#support-details .stat-card .stat-value,
  div#invitation-links .stat-card .stat-value,
  .sr3e.active-effects-editor .stat-card .stat-value,
  .application.category-browser .stat-card .stat-value,
  .sr3e.sheet.item .stat-card .stat-value,
  .sr3e.sheet.character .stat-card .stat-value {
    margin: 0;
    margin-bottom: 0.25rem;
    text-align: center;
  }
  dialog .stat-card.button,
  form .stat-card.button,
  div#support-details .stat-card.button,
  div#invitation-links .stat-card.button,
  .sr3e.active-effects-editor .stat-card.button,
  .application.category-browser .stat-card.button,
  .sr3e.sheet.item .stat-card.button,
  .sr3e.sheet.character .stat-card.button {
    cursor: pointer;
    transition: transform 0.2s ease-out, background-color 0.5s ease;
    will-change: transform;
  }
  dialog .stat-card.button:hover,
  form .stat-card.button:hover,
  div#support-details .stat-card.button:hover,
  div#invitation-links .stat-card.button:hover,
  .sr3e.active-effects-editor .stat-card.button:hover,
  .application.category-browser .stat-card.button:hover,
  .sr3e.sheet.item .stat-card.button:hover,
  .sr3e.sheet.character .stat-card.button:hover {
    transform: scale(1.05);
  }
  dialog .stat-card.button:hover .stat-card-background,
  form .stat-card.button:hover .stat-card-background,
  div#support-details .stat-card.button:hover .stat-card-background,
  div#invitation-links .stat-card.button:hover .stat-card-background,
  .sr3e.active-effects-editor .stat-card.button:hover .stat-card-background,
  .application.category-browser .stat-card.button:hover .stat-card-background,
  .sr3e.sheet.item .stat-card.button:hover .stat-card-background,
  .sr3e.sheet.character .stat-card.button:hover .stat-card-background {
    box-shadow: inset 0 0 10px var(--highlight-color-primary);
  }
  dialog .stat-card.button:active,
  form .stat-card.button:active,
  div#support-details .stat-card.button:active,
  div#invitation-links .stat-card.button:active,
  .sr3e.active-effects-editor .stat-card.button:active,
  .application.category-browser .stat-card.button:active,
  .sr3e.sheet.item .stat-card.button:active,
  .sr3e.sheet.character .stat-card.button:active {
    transform: scale(0.97);
  }
  dialog .stat-card.button:active .stat-card-background,
  form .stat-card.button:active .stat-card-background,
  div#support-details .stat-card.button:active .stat-card-background,
  div#invitation-links .stat-card.button:active .stat-card-background,
  .sr3e.active-effects-editor .stat-card.button:active .stat-card-background,
  .application.category-browser .stat-card.button:active .stat-card-background,
  .sr3e.sheet.item .stat-card.button:active .stat-card-background,
  .sr3e.sheet.character .stat-card.button:active .stat-card-background {
    box-shadow: inset 0 0 30px var(--highlight-color-primary);
  }
  dialog .stat-card:active,
  form .stat-card:active,
  div#support-details .stat-card:active,
  div#invitation-links .stat-card:active,
  .sr3e.active-effects-editor .stat-card:active,
  .application.category-browser .stat-card:active,
  .sr3e.sheet.item .stat-card:active,
  .sr3e.sheet.character .stat-card:active {
    transform: scale(0.97);
  }
  dialog .stat-card-background,
  form .stat-card-background,
  div#support-details .stat-card-background,
  div#invitation-links .stat-card-background,
  .sr3e.active-effects-editor .stat-card-background,
  .application.category-browser .stat-card-background,
  .sr3e.sheet.item .stat-card-background,
  .sr3e.sheet.character .stat-card-background {
    content: "";
    position: absolute;
    z-index: -1;
    top: 1px;
    left: 1px;
    width: calc(100% - 2px);
    height: calc(100% - 2px);
    background: black;
    box-shadow: inset 0 0 30px #1b1f24;
    pointer-events: none;
    clip-path: polygon(0.427rem 0px, calc(100% - 0.427rem) 0px, 100% 0.427rem, 100% calc(100% - 0.854rem), calc(100% - 0.854rem) 100%, 0.427rem 100%, 0px calc(100% - 0.427rem), 0px 0.427rem);
  }
  section.body.flexcol.scrollable {
    overflow-y: auto;
    max-height: 20rem;
  }
}
